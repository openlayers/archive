(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{369:function(e,t,n){"use strict";n.r(t);var o=n(3),a=n(2),c=n(243),s=n(202),r=n(4),i=n(29),d=n(118),u=n(5),l=n(13);const w=new r.a({source:new u.b}),m=(new s.a).readFeature("POLYGON((10.689697265625 -25.0927734375, 34.595947265625 -20.1708984375, 38.814697265625 -35.6396484375, 13.502197265625 -39.1552734375, 10.689697265625 -25.0927734375))");m.getGeometry().transform("EPSG:4326","EPSG:3857");const p=new i.a({source:new l.b({features:[m]})}),g=new o.a({layers:[w,p],target:"map",controls:Object(c.a)({attributionOptions:{collapsible:!1}}),view:new a.a({center:[0,0],zoom:2})}),f={a0:[1189,841],a1:[841,594],a2:[594,420],a3:[420,297],a4:[297,210],a5:[210,148]};let b=0,y=0;const E=document.getElementById("export-pdf");E.addEventListener("click",function(){E.disabled=!0,document.body.style.cursor="progress";const e=document.getElementById("format").value,t=document.getElementById("resolution").value,n=f[e],o=Math.round(n[0]*t/25.4),a=Math.round(n[1]*t/25.4),c=g.getSize(),s=g.getView().calculateExtent(c),r=w.getSource(),i=function(){++b};let u,l=[];g.once("postcompose",function(t){const o=function(t){return()=>{++y,u&&(clearTimeout(u),u=null),b===y&&(u=window.setTimeout(()=>{b=0,y=0;const o=t.toDataURL("image/jpeg"),a=new jsPDF("landscape",void 0,e);a.addImage(o,"JPEG",0,0,n[0],n[1]),a.save("map.pdf"),l.forEach(d.b),l=[],g.setSize(c),g.getView().fit(s,{size:c}),g.renderSync(),E.disabled=!1,document.body.style.cursor="auto"},500))}}(t.context.canvas);l=[r.on("tileloadstart",i),r.on("tileloadend",o),r.on("tileloaderror",o)],o()});const m=[o,a];g.setSize(m),g.getView().fit(s,{size:m}),y=-1,g.renderSync()},!1)}},[[369,0]]]);
//# sourceMappingURL=export-pdf.js.map