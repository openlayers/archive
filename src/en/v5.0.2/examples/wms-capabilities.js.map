{"version":3,"sources":["webpack:///../src/ol/format/WMSCapabilities.js","webpack:///./wms-capabilities.js"],"names":["WMSCapabilities","XML","call","this","version","undefined","Object","util","NAMESPACE_URIS","PARSERS","xml","Service","node","objectStack","SERVICE_PARSERS","Capability","CAPABILITY_PARSERS","Request","REQUEST_PARSERS","Exception","EXCEPTION_PARSERS","Layer","LAYER_PARSERS","Name","xsd","Title","Abstract","KeywordList","readKeywordList","OnlineResource","XLink","ContactInformation","CONTACT_INFORMATION_PARSERS","Fees","AccessConstraints","LayerLimit","MaxWidth","MaxHeight","ContactPersonPrimary","CONTACT_PERSON_PARSERS","ContactPosition","ContactAddress","CONTACT_ADDRESS_PARSERS","ContactVoiceTelephone","ContactFacsimileTelephone","ContactElectronicMailAddress","ContactPerson","ContactOrganization","AddressType","Address","City","StateOrProvince","PostCode","Country","Format","CRS","EX_GeographicBoundingBox","geographicBoundingBox","EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS","westBoundLongitude","southBoundLatitude","eastBoundLongitude","northBoundLatitude","BoundingBox","extent","getAttribute","resolutions","crs","res","Dimension","name","units","unitSymbol","default","multipleValues","nearestValue","current","values","Attribution","ATTRIBUTION_PARSERS","AuthorityURL","authorityObject","readFormatOnlineresource","Identifier","MetadataURL","metadataObject","DataURL","FeatureListURL","Style","STYLE_PARSERS","MinScaleDenominator","MaxScaleDenominator","parentLayerObject","length","layerObject","queryable","cascaded","opaque","noSubsets","fixedWidth","fixedHeight","forEach","key","childValue","concat","parentValue","LogoURL","readSizedFormatOnlineresource","GetCapabilities","readOperationType","GetMap","GetFeatureInfo","OPERATIONTYPE_PARSERS","DCPType","DCPTYPE_PARSERS","HTTP","HTTP_PARSERS","Get","Post","LegendURL","StyleSheetURL","StyleURL","FORMAT_ONLINERESOURCE_PARSERS","KEYWORDLIST_PARSERS","Keyword","formatOnlineresource","size","prototype","read","readFromDocument","doc","n","firstChild","nextSibling","nodeType","Node","ELEMENT_NODE","readFromNode","trim","wmsCapabilityObject","parser","fetch","then","response","text","result","document","getElementById","innerText","JSON","stringify"],"mappings":"6IAmBA,MAAAA,EAAA,WAEAC,EAAA,EAAAC,KAAAC,MAKAA,KAAAC,aAAAC,GAGAC,OAAAC,EAAA,EAAAD,CAAAN,EAAAC,EAAA,GAOA,MAAAO,GACA,KACA,8BAQAC,EAAAH,OAAAI,EAAA,EAAAJ,CACAE,GACAG,QAAAL,OAAAI,EAAA,EAAAJ,CAmVA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2BQ,EAAAF,EAAAC,KAnV3BE,WAAAT,OAAAI,EAAA,EAAAJ,CAwUA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2BU,EAAAJ,EAAAC,OAjU3BG,EAAAV,OAAAI,EAAA,EAAAJ,CACAE,GACAS,QAAAX,OAAAI,EAAA,EAAAJ,CA0eA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2BY,EAAAN,EAAAC,KA1e3BM,UAAAb,OAAAI,EAAA,EAAAJ,CA+WA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAAAc,EAAAR,EAAAC,KA/WAQ,MAAAf,OAAAI,EAAA,EAAAJ,CAwXA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2BgB,EAAAV,EAAAC,OAjX3BC,EAAAR,OAAAI,EAAA,EAAAJ,CACAE,GACAe,KAAAjB,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAC,MAAAnB,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAE,SAAApB,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAG,YAAArB,OAAAI,EAAA,EAAAJ,CAAAsB,GACAC,eAAAvB,OAAAI,EAAA,EAAAJ,CAAAwB,EAAA,GACAC,mBAAAzB,OAAAI,EAAA,EAAAJ,CAiUA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2B0B,EAAApB,EAAAC,KAjU3BoB,KAAA3B,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAU,kBAAA5B,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAW,WAAA7B,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAY,SAAA9B,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAa,UAAA/B,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,KAQAQ,EAAA1B,OAAAI,EAAA,EAAAJ,CACAE,GACA8B,qBAAAhC,OAAAI,EAAA,EAAAJ,CA4TA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2BiC,EAAA3B,EAAAC,KA5T3B2B,gBAAAlC,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAiB,eAAAnC,OAAAI,EAAA,EAAAJ,CAoUA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2BoC,EAAA9B,EAAAC,KApU3B8B,sBAAArC,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAoB,0BAAAtC,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAqB,6BAAAvC,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,KAQAe,EAAAjC,OAAAI,EAAA,EAAAJ,CACAE,GACAsC,cAAAxC,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAuB,oBAAAzC,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,KAQAkB,EAAApC,OAAAI,EAAA,EAAAJ,CACAE,GACAwC,YAAA1C,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAyB,QAAA3C,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACA0B,KAAA5C,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACA2B,gBAAA7C,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACA4B,SAAA9C,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACA6B,QAAA/C,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,KAQAJ,EAAAd,OAAAI,EAAA,EAAAJ,CACAE,GACA8C,OAAAhD,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,KAQAF,EAAAhB,OAAAI,EAAA,EAAAJ,CACAE,GACAe,KAAAjB,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAC,MAAAnB,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAE,SAAApB,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAG,YAAArB,OAAAI,EAAA,EAAAJ,CAAAsB,GACA2B,IAAAjD,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAgC,yBAAAlD,OAAAI,EAAA,EAAAJ,CAsMA,SAAAM,EAAAC,GACA,MAAA4C,EAAAnD,OAAAI,EAAA,EAAAJ,IAEAoD,EACA9C,EAAAC,GACA,IAAA4C,EACA,OAEA,MAAAE,EACAF,EAAA,mBACAG,EACAH,EAAA,mBACAI,EACAJ,EAAA,mBACAK,EACAL,EAAA,mBACA,QAAApD,IAAAsD,QAAAtD,IAAAuD,QACAvD,IAAAwD,QAAAxD,IAAAyD,EACA,OAEA,OACAH,EAAAC,EACAC,EAAAC,KA3NAC,YAAAzD,OAAAI,EAAA,EAAAJ,CA2KA,SAAAM,EAAAC,GACA,MAAAmD,GACA1D,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,SACA3D,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,SACA3D,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,SACA3D,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,UAGAC,GACA5D,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,SACA3D,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,UAGA,OACAE,IAAAvD,EAAAqD,aAAA,OACAD,SACAI,IAAAF,KA1LAG,UAAA/D,OAAAI,EAAA,EAAAJ,CAkXA,SAAAM,EAAAC,GAWA,OATAyD,KAAA1D,EAAAqD,aAAA,QACAM,MAAA3D,EAAAqD,aAAA,SACAO,WAAA5D,EAAAqD,aAAA,cACAQ,QAAA7D,EAAAqD,aAAA,WACAS,eAAApE,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,mBACAU,aAAArE,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,iBACAW,QAAAtE,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,YACAY,OAAAvE,OAAAkB,EAAA,EAAAlB,CAAAM,MA1XAkE,YAAAxE,OAAAI,EAAA,EAAAJ,CA+JA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2ByE,EAAAnE,EAAAC,KA/J3BmE,aAAA1E,OAAAI,EAAA,EAAAJ,CAycA,SAAAM,EAAAC,GACA,MAAAoE,EAAAC,EAAAtE,EAAAC,GACA,GAAAoE,EAEA,OADAA,EAAA,KAAArE,EAAAqD,aAAA,QACAgB,EAEA,SA9cAE,WAAA7E,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACA4D,YAAA9E,OAAAI,EAAA,EAAAJ,CAsdA,SAAAM,EAAAC,GACA,MAAAwE,EAAAH,EAAAtE,EAAAC,GACA,GAAAwE,EAEA,OADAA,EAAA,KAAAzE,EAAAqD,aAAA,QACAoB,EAEA,SA3dAC,QAAAhF,OAAAI,EAAA,EAAAJ,CAAA4E,GACAK,eAAAjF,OAAAI,EAAA,EAAAJ,CAAA4E,GACAM,MAAAlF,OAAAI,EAAA,EAAAJ,CAkeA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2BmF,EAAA7E,EAAAC,KAle3B6E,oBAAApF,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAmE,oBAAArF,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAH,MAAAf,OAAAI,EAAA,EAAAJ,CAgSA,SAAAM,EAAAC,GACA,MAAA+E,EAA2D/E,IAAAgF,OAAA,GAE3DC,EAAAxF,OAAAI,EAAA,EAAAJ,IAAwCgB,EAAAV,EAAAC,GAExC,IAAAiF,EACA,OAEA,IAAAC,EAAAzF,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,mBACA5D,IAAA0F,IACAA,EAAAH,EAAA,WAEAE,EAAA,eAAAzF,IAAA0F,KAEA,IAAAC,EAAA1F,OAAAkB,EAAA,EAAAlB,CACAM,EAAAqD,aAAA,kBACA5D,IAAA2F,IACAA,EAAAJ,EAAA,UAEAE,EAAA,SAAAE,EAEA,IAAAC,EAAA3F,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,gBACA5D,IAAA4F,IACAA,EAAAL,EAAA,QAEAE,EAAA,YAAAzF,IAAA4F,KAEA,IAAAC,EAAA5F,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,mBACA5D,IAAA6F,IACAA,EAAAN,EAAA,WAEAE,EAAA,eAAAzF,IAAA6F,KAEA,IAAAC,EAAA7F,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,eACAkC,IACAA,EAAAP,EAAA,YAEAE,EAAA,WAAAK,EAEA,IAAAC,EAAA9F,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,gBACAmC,IACAA,EAAAR,EAAA,aAEAE,EAAA,YAAAM,GAGA,8BACAC,QAAA,SAAAC,GACA,GAAAA,KAAAV,EAAA,CACA,MAAAW,EAAAT,EAAAQ,OACAR,EAAAQ,GAAAC,EAAAC,OAAAZ,EAAAU,OAaA,OATA,qDACA,2DACAD,QAAA,SAAAC,GACA,KAAAA,KAAAR,GAAA,CACA,MAAAW,EAAAb,EAAAU,GACAR,EAAAQ,GAAAG,KAIAX,MAvVAf,EAAAzE,OAAAI,EAAA,EAAAJ,CACAE,GACAiB,MAAAnB,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAK,eAAAvB,OAAAI,EAAA,EAAAJ,CAAAwB,EAAA,GACA4E,QAAApG,OAAAI,EAAA,EAAAJ,CAAAqG,KAQAjD,EACApD,OAAAI,EAAA,EAAAJ,CAAAE,GACAmD,mBAAArD,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAqC,mBAAAvD,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAoC,mBAAAtD,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAsC,mBAAAxD,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,KAQAN,EAAAZ,OAAAI,EAAA,EAAAJ,CACAE,GACAoG,gBAAAtG,OAAAI,EAAA,EAAAJ,CAAAuG,GACAC,OAAAxG,OAAAI,EAAA,EAAAJ,CAAAuG,GACAE,eAAAzG,OAAAI,EAAA,EAAAJ,CAAAuG,KAQAG,EAAA1G,OAAAI,EAAA,EAAAJ,CACAE,GACA8C,OAAAhD,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAyF,QAAA3G,OAAAI,EAAA,EAAAJ,CAgWA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2B4G,EAAAtG,EAAAC,OAzV3BqG,EAAA5G,OAAAI,EAAA,EAAAJ,CACAE,GACA2G,KAAA7G,OAAAI,EAAA,EAAAJ,CAgWA,SAAAM,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2B8G,EAAAxG,EAAAC,OAzV3BuG,EAAA9G,OAAAI,EAAA,EAAAJ,CACAE,GACA6G,IAAA/G,OAAAI,EAAA,EAAAJ,CAAA4E,GACAoC,KAAAhH,OAAAI,EAAA,EAAAJ,CAAA4E,KAQAO,EAAAnF,OAAAI,EAAA,EAAAJ,CACAE,GACAe,KAAAjB,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAC,MAAAnB,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAE,SAAApB,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACA+F,UAAAjH,OAAAI,EAAA,EAAAJ,CAAAqG,GACAa,cAAAlH,OAAAI,EAAA,EAAAJ,CAAA4E,GACAuC,SAAAnH,OAAAI,EAAA,EAAAJ,CAAA4E,KAQAwC,EACApH,OAAAI,EAAA,EAAAJ,CAAAE,GACA8C,OAAAhD,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,GACAK,eAAAvB,OAAAI,EAAA,EAAAJ,CAAAwB,EAAA,KAQA6F,EAAArH,OAAAI,EAAA,EAAAJ,CACAE,GACAoH,QAAAtH,OAAAI,EAAA,EAAAJ,CAAAkB,EAAA,KAmRA,SAAA0D,EAAAtE,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2BoH,EAAA9G,EAAAC,GAuC3B,SAAAgG,EAAAjG,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAA2B0G,EAAApG,EAAAC,GAS3B,SAAA8F,EAAA/F,EAAAC,GACA,MAAAgH,EAAA3C,EAAAtE,EAAAC,GACA,GAAAgH,EAAA,CACA,MAAAC,GACAxH,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,UACA3D,OAAAkB,EAAA,EAAAlB,CAAAM,EAAAqD,aAAA,YAGA,OADA4D,EAAA,KAAAC,EACAD,GAmDA,SAAAjG,EAAAhB,EAAAC,GACA,OAAAP,OAAAI,EAAA,EAAAJ,IAAAqH,EAAA/G,EAAAC,GArXAb,EAAA+H,UAAAC,KAMAhI,EAAA+H,UAAAE,iBAAA,SAAAC,GACA,QAAAC,EAAAD,EAAAE,WAA8BD,EAAGA,IAAAE,YACjC,GAAAF,EAAAG,UAAAC,KAAAC,aACA,OAAArI,KAAAsI,aAAAN,GAGA,aAOAnI,EAAA+H,UAAAU,aAAA,SAAA7H,GACAT,KAAAC,QAAAQ,EAAAqD,aAAA,WAAAyE,OACA,MAAAC,EAAArI,OAAAI,EAAA,EAAAJ,EACAF,QAAAD,KAAAC,SACGK,EAAAG,MACH,OAAA+H,GAAA,MC1SA,MAAAC,EAAA,ID2oBA,ECzoBAC,MAAA,sBAAAC,KAAA,SAAAC,GACA,OAAAA,EAAAC,SACCF,KAAA,SAAAE,GACD,MAAAC,EAAAL,EAAAZ,KAAAgB,GACAE,SAAAC,eAAA,OAAAC,UAAAC,KAAAC,UAAAL,EAAA","file":"wms-capabilities.js","sourcesContent":["/**\n * @module ol/format/WMSCapabilities\n */\nimport {inherits} from '../util.js';\nimport {readHref} from '../format/XLink.js';\nimport XML from '../format/XML.js';\nimport {readDecimalString, readString, readNonNegativeInteger, readDecimal, readBooleanString, readNonNegativeIntegerString} from '../format/xsd.js';\nimport {makeArrayPusher, makeObjectPropertyPusher, makeObjectPropertySetter,\n  makeStructureNS, pushParseAndPop} from '../xml.js';\n\n\n/**\n * @classdesc\n * Format for reading WMS capabilities data\n *\n * @constructor\n * @extends {module:ol/format/XML}\n * @api\n */\nconst WMSCapabilities = function() {\n\n  XML.call(this);\n\n  /**\n   * @type {string|undefined}\n   */\n  this.version = undefined;\n};\n\ninherits(WMSCapabilities, XML);\n\n\n/**\n * @const\n * @type {Array.<null|string>}\n */\nconst NAMESPACE_URIS = [\n  null,\n  'http://www.opengis.net/wms'\n];\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Service': makeObjectPropertySetter(readService),\n    'Capability': makeObjectPropertySetter(readCapability)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst CAPABILITY_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Request': makeObjectPropertySetter(readRequest),\n    'Exception': makeObjectPropertySetter(readException),\n    'Layer': makeObjectPropertySetter(readCapabilityLayer)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst SERVICE_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'KeywordList': makeObjectPropertySetter(readKeywordList),\n    'OnlineResource': makeObjectPropertySetter(readHref),\n    'ContactInformation': makeObjectPropertySetter(readContactInformation),\n    'Fees': makeObjectPropertySetter(readString),\n    'AccessConstraints': makeObjectPropertySetter(readString),\n    'LayerLimit': makeObjectPropertySetter(readNonNegativeInteger),\n    'MaxWidth': makeObjectPropertySetter(readNonNegativeInteger),\n    'MaxHeight': makeObjectPropertySetter(readNonNegativeInteger)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst CONTACT_INFORMATION_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'ContactPersonPrimary': makeObjectPropertySetter(readContactPersonPrimary),\n    'ContactPosition': makeObjectPropertySetter(readString),\n    'ContactAddress': makeObjectPropertySetter(readContactAddress),\n    'ContactVoiceTelephone': makeObjectPropertySetter(readString),\n    'ContactFacsimileTelephone': makeObjectPropertySetter(readString),\n    'ContactElectronicMailAddress': makeObjectPropertySetter(readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst CONTACT_PERSON_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'ContactPerson': makeObjectPropertySetter(readString),\n    'ContactOrganization': makeObjectPropertySetter(readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst CONTACT_ADDRESS_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'AddressType': makeObjectPropertySetter(readString),\n    'Address': makeObjectPropertySetter(readString),\n    'City': makeObjectPropertySetter(readString),\n    'StateOrProvince': makeObjectPropertySetter(readString),\n    'PostCode': makeObjectPropertySetter(readString),\n    'Country': makeObjectPropertySetter(readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst EXCEPTION_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Format': makeArrayPusher(readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst LAYER_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'KeywordList': makeObjectPropertySetter(readKeywordList),\n    'CRS': makeObjectPropertyPusher(readString),\n    'EX_GeographicBoundingBox': makeObjectPropertySetter(readEXGeographicBoundingBox),\n    'BoundingBox': makeObjectPropertyPusher(readBoundingBox),\n    'Dimension': makeObjectPropertyPusher(readDimension),\n    'Attribution': makeObjectPropertySetter(readAttribution),\n    'AuthorityURL': makeObjectPropertyPusher(readAuthorityURL),\n    'Identifier': makeObjectPropertyPusher(readString),\n    'MetadataURL': makeObjectPropertyPusher(readMetadataURL),\n    'DataURL': makeObjectPropertyPusher(readFormatOnlineresource),\n    'FeatureListURL': makeObjectPropertyPusher(readFormatOnlineresource),\n    'Style': makeObjectPropertyPusher(readStyle),\n    'MinScaleDenominator': makeObjectPropertySetter(readDecimal),\n    'MaxScaleDenominator': makeObjectPropertySetter(readDecimal),\n    'Layer': makeObjectPropertyPusher(readLayer)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst ATTRIBUTION_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Title': makeObjectPropertySetter(readString),\n    'OnlineResource': makeObjectPropertySetter(readHref),\n    'LogoURL': makeObjectPropertySetter(readSizedFormatOnlineresource)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS =\n    makeStructureNS(NAMESPACE_URIS, {\n      'westBoundLongitude': makeObjectPropertySetter(readDecimal),\n      'eastBoundLongitude': makeObjectPropertySetter(readDecimal),\n      'southBoundLatitude': makeObjectPropertySetter(readDecimal),\n      'northBoundLatitude': makeObjectPropertySetter(readDecimal)\n    });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst REQUEST_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'GetCapabilities': makeObjectPropertySetter(readOperationType),\n    'GetMap': makeObjectPropertySetter(readOperationType),\n    'GetFeatureInfo': makeObjectPropertySetter(readOperationType)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst OPERATIONTYPE_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Format': makeObjectPropertyPusher(readString),\n    'DCPType': makeObjectPropertyPusher(readDCPType)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst DCPTYPE_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'HTTP': makeObjectPropertySetter(readHTTP)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst HTTP_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Get': makeObjectPropertySetter(readFormatOnlineresource),\n    'Post': makeObjectPropertySetter(readFormatOnlineresource)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst STYLE_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'LegendURL': makeObjectPropertyPusher(readSizedFormatOnlineresource),\n    'StyleSheetURL': makeObjectPropertySetter(readFormatOnlineresource),\n    'StyleURL': makeObjectPropertySetter(readFormatOnlineresource)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst FORMAT_ONLINERESOURCE_PARSERS =\n    makeStructureNS(NAMESPACE_URIS, {\n      'Format': makeObjectPropertySetter(readString),\n      'OnlineResource': makeObjectPropertySetter(readHref)\n    });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst KEYWORDLIST_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Keyword': makeArrayPusher(readString)\n  });\n\n\n/**\n * Read a WMS capabilities document.\n *\n * @function\n * @param {Document|Node|string} source The XML source.\n * @return {Object} An object representing the WMS capabilities.\n * @api\n */\nWMSCapabilities.prototype.read;\n\n\n/**\n * @inheritDoc\n */\nWMSCapabilities.prototype.readFromDocument = function(doc) {\n  for (let n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      return this.readFromNode(n);\n    }\n  }\n  return null;\n};\n\n\n/**\n * @inheritDoc\n */\nWMSCapabilities.prototype.readFromNode = function(node) {\n  this.version = node.getAttribute('version').trim();\n  const wmsCapabilityObject = pushParseAndPop({\n    'version': this.version\n  }, PARSERS, node, []);\n  return wmsCapabilityObject ? wmsCapabilityObject : null;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Attribution object.\n */\nfunction readAttribution(node, objectStack) {\n  return pushParseAndPop({}, ATTRIBUTION_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object} Bounding box object.\n */\nfunction readBoundingBox(node, objectStack) {\n  const extent = [\n    readDecimalString(node.getAttribute('minx')),\n    readDecimalString(node.getAttribute('miny')),\n    readDecimalString(node.getAttribute('maxx')),\n    readDecimalString(node.getAttribute('maxy'))\n  ];\n\n  const resolutions = [\n    readDecimalString(node.getAttribute('resx')),\n    readDecimalString(node.getAttribute('resy'))\n  ];\n\n  return {\n    'crs': node.getAttribute('CRS'),\n    'extent': extent,\n    'res': resolutions\n  };\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {module:ol/extent~Extent|undefined} Bounding box object.\n */\nfunction readEXGeographicBoundingBox(node, objectStack) {\n  const geographicBoundingBox = pushParseAndPop(\n    {},\n    EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS,\n    node, objectStack);\n  if (!geographicBoundingBox) {\n    return undefined;\n  }\n  const westBoundLongitude = /** @type {number|undefined} */\n        (geographicBoundingBox['westBoundLongitude']);\n  const southBoundLatitude = /** @type {number|undefined} */\n        (geographicBoundingBox['southBoundLatitude']);\n  const eastBoundLongitude = /** @type {number|undefined} */\n        (geographicBoundingBox['eastBoundLongitude']);\n  const northBoundLatitude = /** @type {number|undefined} */\n        (geographicBoundingBox['northBoundLatitude']);\n  if (westBoundLongitude === undefined || southBoundLatitude === undefined ||\n        eastBoundLongitude === undefined || northBoundLatitude === undefined) {\n    return undefined;\n  }\n  return [\n    westBoundLongitude, southBoundLatitude,\n    eastBoundLongitude, northBoundLatitude\n  ];\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Capability object.\n */\nfunction readCapability(node, objectStack) {\n  return pushParseAndPop({}, CAPABILITY_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Service object.\n */\nfunction readService(node, objectStack) {\n  return pushParseAndPop({}, SERVICE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Contact information object.\n */\nfunction readContactInformation(node, objectStack) {\n  return pushParseAndPop({}, CONTACT_INFORMATION_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Contact person object.\n */\nfunction readContactPersonPrimary(node, objectStack) {\n  return pushParseAndPop({}, CONTACT_PERSON_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Contact address object.\n */\nfunction readContactAddress(node, objectStack) {\n  return pushParseAndPop({}, CONTACT_ADDRESS_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Array.<string>|undefined} Format array.\n */\nfunction readException(node, objectStack) {\n  return pushParseAndPop([], EXCEPTION_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Layer object.\n */\nfunction readCapabilityLayer(node, objectStack) {\n  return pushParseAndPop({}, LAYER_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Layer object.\n */\nfunction readLayer(node, objectStack) {\n  const parentLayerObject = /**  @type {!Object.<string,*>} */ (objectStack[objectStack.length - 1]);\n\n  const layerObject = pushParseAndPop({}, LAYER_PARSERS, node, objectStack);\n\n  if (!layerObject) {\n    return undefined;\n  }\n  let queryable = readBooleanString(node.getAttribute('queryable'));\n  if (queryable === undefined) {\n    queryable = parentLayerObject['queryable'];\n  }\n  layerObject['queryable'] = queryable !== undefined ? queryable : false;\n\n  let cascaded = readNonNegativeIntegerString(\n    node.getAttribute('cascaded'));\n  if (cascaded === undefined) {\n    cascaded = parentLayerObject['cascaded'];\n  }\n  layerObject['cascaded'] = cascaded;\n\n  let opaque = readBooleanString(node.getAttribute('opaque'));\n  if (opaque === undefined) {\n    opaque = parentLayerObject['opaque'];\n  }\n  layerObject['opaque'] = opaque !== undefined ? opaque : false;\n\n  let noSubsets = readBooleanString(node.getAttribute('noSubsets'));\n  if (noSubsets === undefined) {\n    noSubsets = parentLayerObject['noSubsets'];\n  }\n  layerObject['noSubsets'] = noSubsets !== undefined ? noSubsets : false;\n\n  let fixedWidth = readDecimalString(node.getAttribute('fixedWidth'));\n  if (!fixedWidth) {\n    fixedWidth = parentLayerObject['fixedWidth'];\n  }\n  layerObject['fixedWidth'] = fixedWidth;\n\n  let fixedHeight = readDecimalString(node.getAttribute('fixedHeight'));\n  if (!fixedHeight) {\n    fixedHeight = parentLayerObject['fixedHeight'];\n  }\n  layerObject['fixedHeight'] = fixedHeight;\n\n  // See 7.2.4.8\n  const addKeys = ['Style', 'CRS', 'AuthorityURL'];\n  addKeys.forEach(function(key) {\n    if (key in parentLayerObject) {\n      const childValue = layerObject[key] || [];\n      layerObject[key] = childValue.concat(parentLayerObject[key]);\n    }\n  });\n\n  const replaceKeys = ['EX_GeographicBoundingBox', 'BoundingBox', 'Dimension',\n    'Attribution', 'MinScaleDenominator', 'MaxScaleDenominator'];\n  replaceKeys.forEach(function(key) {\n    if (!(key in layerObject)) {\n      const parentValue = parentLayerObject[key];\n      layerObject[key] = parentValue;\n    }\n  });\n\n  return layerObject;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object} Dimension object.\n */\nfunction readDimension(node, objectStack) {\n  const dimensionObject = {\n    'name': node.getAttribute('name'),\n    'units': node.getAttribute('units'),\n    'unitSymbol': node.getAttribute('unitSymbol'),\n    'default': node.getAttribute('default'),\n    'multipleValues': readBooleanString(node.getAttribute('multipleValues')),\n    'nearestValue': readBooleanString(node.getAttribute('nearestValue')),\n    'current': readBooleanString(node.getAttribute('current')),\n    'values': readString(node)\n  };\n  return dimensionObject;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\nfunction readFormatOnlineresource(node, objectStack) {\n  return pushParseAndPop({}, FORMAT_ONLINERESOURCE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Request object.\n */\nfunction readRequest(node, objectStack) {\n  return pushParseAndPop({}, REQUEST_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} DCP type object.\n */\nfunction readDCPType(node, objectStack) {\n  return pushParseAndPop({}, DCPTYPE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} HTTP object.\n */\nfunction readHTTP(node, objectStack) {\n  return pushParseAndPop({}, HTTP_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Operation type object.\n */\nfunction readOperationType(node, objectStack) {\n  return pushParseAndPop({}, OPERATIONTYPE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\nfunction readSizedFormatOnlineresource(node, objectStack) {\n  const formatOnlineresource = readFormatOnlineresource(node, objectStack);\n  if (formatOnlineresource) {\n    const size = [\n      readNonNegativeIntegerString(node.getAttribute('width')),\n      readNonNegativeIntegerString(node.getAttribute('height'))\n    ];\n    formatOnlineresource['size'] = size;\n    return formatOnlineresource;\n  }\n  return undefined;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Authority URL object.\n */\nfunction readAuthorityURL(node, objectStack) {\n  const authorityObject = readFormatOnlineresource(node, objectStack);\n  if (authorityObject) {\n    authorityObject['name'] = node.getAttribute('name');\n    return authorityObject;\n  }\n  return undefined;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Metadata URL object.\n */\nfunction readMetadataURL(node, objectStack) {\n  const metadataObject = readFormatOnlineresource(node, objectStack);\n  if (metadataObject) {\n    metadataObject['type'] = node.getAttribute('type');\n    return metadataObject;\n  }\n  return undefined;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Style object.\n */\nfunction readStyle(node, objectStack) {\n  return pushParseAndPop({}, STYLE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Array.<string>|undefined} Keyword list.\n */\nfunction readKeywordList(node, objectStack) {\n  return pushParseAndPop([], KEYWORDLIST_PARSERS, node, objectStack);\n}\n\n\nexport default WMSCapabilities;\n","import WMSCapabilities from '../src/ol/format/WMSCapabilities.js';\n\nconst parser = new WMSCapabilities();\n\nfetch('data/ogcsample.xml').then(function(response) {\n  return response.text();\n}).then(function(text) {\n  const result = parser.read(text);\n  document.getElementById('log').innerText = JSON.stringify(result, null, 2);\n});\n"],"sourceRoot":""}