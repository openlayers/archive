(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{366:function(e,t,n){"use strict";n.r(t);var o=n(20),s=n(3),r=n(2),a=n(32),i=n(4),c=n(29),f=n(75),w=n(13),h=n(76),l=n(117);const g=new s.a({layers:[new i.a({source:new f.a({layer:"toner"})})],target:"map",view:new r.a({center:[0,0],zoom:2})}),d=new h.c({stroke:new l.a({color:"#EAE911",width:2})}),u=new w.b({wrapX:!1,attributions:'Flight data by <a href="http://openflights.org/data.html">OpenFlights</a>,',loader:function(){fetch("data/openflights/flights.json").then(function(e){return e.json()}).then(function(e){const t=e.flights;for(let e=0;e<t.length;e++){const n=t[e],s=n[0],r=n[1],i=new arc.GreatCircle({x:s[1],y:s[0]},{x:r[1],y:r[0]}).Arc(100,{offset:10});if(1===i.geometries.length){const t=new a.a(i.geometries[0].coords);t.transform("EPSG:4326","EPSG:3857"),b(new o.a({geometry:t,finished:!1}),50*e)}}g.on("postcompose",y)})}}),m=new c.a({source:u,style:function(e){return e.get("finished")?d:null}});g.addLayer(m);const p=.1;function y(e){const t=e.vectorContext,n=e.frameState;t.setStyle(d);const o=u.getFeatures();for(let e=0;e<o.length;e++){const s=o[e];if(!s.get("finished")){const e=s.getGeometry().getCoordinates(),o=(n.time-s.get("start"))*p;o>=e.length&&s.set("finished",!0);const r=Math.min(o,e.length),i=new a.a(e.slice(0,r));t.drawGeometry(i)}}g.render()}function b(e,t){window.setTimeout(function(){e.set("start",(new Date).getTime()),u.addFeature(e)},t)}}},[[366,0]]]);
//# sourceMappingURL=flight-animation.js.map