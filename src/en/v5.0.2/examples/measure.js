(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{326:function(e,t,n){"use strict";n.r(t);var o=n(3),a=n(118),i=n(96),r=n(160),c=n(2),s=n(36),l=n(32),d=n(69),u=n(4),w=n(29),f=n(5),g=n(13),m=n(76),p=n(122),h=n(117),b=n(402);const v=new u.a({source:new f.b}),y=new g.b,k=new w.a({source:y,style:new m.c({fill:new p.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new h.a({color:"#ffcc33",width:2}),image:new b.a({radius:7,fill:new p.a({color:"#ffcc33"})})})});let C,L,M,O,N;const E=new o.a({layers:[v,k],target:"map",view:new c.a({center:[-11e6,46e5],zoom:15})});E.on("pointermove",function(e){if(e.dragging)return;let t="Click to start drawing";if(C){const e=C.getGeometry();e instanceof s.b?t="Click to continue drawing the polygon":e instanceof l.a&&(t="Click to continue drawing the line")}L.innerHTML=t,M.setPosition(e.coordinate),L.classList.remove("hidden")}),E.getViewport().addEventListener("mouseout",function(){L.classList.add("hidden")});const I=document.getElementById("type");let P;const j=function(e){const t=Object(r.c)(e);let n;return n=t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"},G=function(e){const t=Object(r.a)(e);let n;return n=t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"};function H(){const e="area"==I.value?"Polygon":"LineString";let t;P=new d.c({source:y,type:e,style:new m.c({fill:new p.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new h.a({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new b.a({radius:5,stroke:new h.a({color:"rgba(0, 0, 0, 0.7)"}),fill:new p.a({color:"rgba(255, 255, 255, 0.2)"})})})}),E.addInteraction(P),J(),function(){L&&L.parentNode.removeChild(L);(L=document.createElement("div")).className="tooltip hidden",M=new i.a({element:L,offset:[15,0],positioning:"center-left"}),E.addOverlay(M)}(),P.on("drawstart",function(e){C=e.feature;let n=e.coordinate;t=C.getGeometry().on("change",function(e){const t=e.target;let o;t instanceof s.b?(o=G(t),n=t.getInteriorPoint().getCoordinates()):t instanceof l.a&&(o=j(t),n=t.getLastCoordinate()),O.innerHTML=o,N.setPosition(n)})},this),P.on("drawend",function(){O.className="tooltip tooltip-static",N.setOffset([0,-7]),C=null,O=null,J(),Object(a.b)(t)},this)}function J(){O&&O.parentNode.removeChild(O),(O=document.createElement("div")).className="tooltip tooltip-measure",N=new i.a({element:O,offset:[0,-15],positioning:"bottom-center"}),E.addOverlay(N)}I.onchange=function(){E.removeInteraction(P),H()},H()}},[[326,0]]]);
//# sourceMappingURL=measure.js.map