(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{230:function(t,e,n){"use strict";n.r(e);var o=n(3),s=n(2),a=n(1),i=n(4),c=n(80),r=n(8),u=n(75),d=n(0),l=n(175),j=n(66);const h=function(t){j.a.call(this,{attributions:t.attributions,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.canvasFunction_=t.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5};Object(d.c)(h,j.a),h.prototype.getImageInternal=function(t,e,n,o){e=this.findNearestResolution(e);let s=this.canvas_;if(s&&this.renderedRevision_==this.getRevision()&&s.getResolution()==e&&s.getPixelRatio()==n&&Object(a.g)(s.getExtent(),t))return s;t=t.slice(),Object(a.J)(t,this.ratio_);const i=[Object(a.E)(t)/e*n,Object(a.A)(t)/e*n],c=this.canvasFunction_(t,e,n,i,o);return c&&(s=new l.a(t,e,n,c)),this.canvas_=s,this.renderedRevision_=this.getRevision(),s};var b=h;const v=new o.a({layers:[new i.a({source:new u.a({layer:"watercolor"})})],target:"map",view:new s.a({center:Object(r.f)([-97,38]),zoom:4})});d3.json("data/topojson/us.json",function(t,e){const n=topojson.feature(e,e.objects.counties),o=new c.a({source:new b({canvasFunction:function(t,e,o,s,i){const c=s[0],u=s[1],d=d3.select(document.createElement("canvas"));d.attr("width",c).attr("height",u);const l=d.node().getContext("2d"),j=d3.geoMercator().scale(1).translate([0,0]);let h=d3.geoPath().projection(j);const b=h.bounds(n),v=b[1][0]-b[0][0],w=b[1][1]-b[0][1],g=d3.geoBounds(n),p=Object(r.f)(g[0],i),f=Object(r.f)(g[1],i);let O=f[0]-p[0];O<0&&(O+=Object(a.E)(i.getExtent()));const _=O/v,R=(f[1]-p[1])/w,x=Math.max(_,R)/(e/o),m=Object(r.l)(Object(a.x)(t),i);return j.scale(x).center(m).translate([c/2,u/2]),(h=h.projection(j).context(l))(n),l.stroke(),d.node()},projection:"EPSG:3857"})});v.addLayer(o)})}},[[230,0]]]);
//# sourceMappingURL=d3.js.map