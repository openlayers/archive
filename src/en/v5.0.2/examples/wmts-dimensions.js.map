{"version":3,"sources":["webpack:///./wmts-dimensions.js"],"names":["projection","Object","_src_ol_proj_js__WEBPACK_IMPORTED_MODULE_4__","tileSizeMtrs","_src_ol_extent_js__WEBPACK_IMPORTED_MODULE_2__","getExtent","matrixIds","resolutions","i","Math","pow","tileGrid","_src_ol_tilegrid_WMTS_js__WEBPACK_IMPORTED_MODULE_7__","origin","wmtsSource","_src_ol_source_WMTS_js__WEBPACK_IMPORTED_MODULE_6__","url","layer","format","matrixSet","attributions","style","dimensions","threshold","updateSourceDimension","_src_ol_Map_js__WEBPACK_IMPORTED_MODULE_0__","target","view","_src_ol_View_js__WEBPACK_IMPORTED_MODULE_1__","center","zoom","layers","_src_ol_layer_Tile_js__WEBPACK_IMPORTED_MODULE_3__","source","_src_ol_source_OSM_js__WEBPACK_IMPORTED_MODULE_5__","opacity","sliderVal","updateDimensions","document","getElementById","innerHTML","addEventListener","this","value"],"mappings":"kKAWA,MAAAA,EAAAC,OAAAC,EAAA,EAAAD,CAAA,aAEAE,EAAAF,OAAAG,EAAA,EAAAH,CAAAD,EAAAK,aADA,IAEAC,KACAC,KACA,QAAAC,EAAA,EAAeA,GAAA,GAASA,IACxBF,EAAAE,KACAD,EAAAC,GAAAL,EAAAM,KAAAC,IAAA,EAAAF,GAEA,MAAAG,EAAA,IAAAC,EAAA,GACAC,OAAAZ,OAAAG,EAAA,EAAAH,CAAAD,EAAAK,aACAE,cACAD,cAKAQ,EAAA,IAAAC,EAAA,GACAC,IAAA,4EACAC,MAAA,sCACAC,OAAA,YACAC,UAAA,YACAC,cACA,yCACA,uGAGAT,WACAU,MAAA,UACAC,YACAC,UAAA,OAsBAC,GAlBA,IAAAC,EAAA,GACAC,OAAA,MACAC,KAAA,IAAAC,EAAA,GACA5B,aACA6B,SAAA,iBACAC,KAAA,IAEAC,QACA,IAAAC,EAAA,GACAC,OAAA,IAAAC,EAAA,IAEA,IAAAF,EAAA,GACAG,QAAA,GACAF,OAAAnB,OAKA,SAAAmB,EAAAG,GACAH,EAAAI,kBAA2Bd,UAAAa,IAC3BE,SAAAC,eAAA,WAAAC,UAAAJ,EAAA,YAGAZ,EAAAV,EAAA,IAEAwB,SAAAC,eAAA,UAAAE,iBAAA,mBACAjB,EAAAV,EAAA4B,KAAAC","file":"wmts-dimensions.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport {getWidth, getTopLeft} from '../src/ol/extent.js';\nimport TileLayer from '../src/ol/layer/Tile.js';\nimport {get as getProjection} from '../src/ol/proj.js';\nimport OSM from '../src/ol/source/OSM.js';\nimport WMTS from '../src/ol/source/WMTS.js';\nimport WMTSTileGrid from '../src/ol/tilegrid/WMTS.js';\n\n\n// create the WMTS tile grid in the google projection\nconst projection = getProjection('EPSG:3857');\nconst tileSizePixels = 256;\nconst tileSizeMtrs = getWidth(projection.getExtent()) / tileSizePixels;\nconst matrixIds = [];\nconst resolutions = [];\nfor (let i = 0; i <= 14; i++) {\n  matrixIds[i] = i;\n  resolutions[i] = tileSizeMtrs / Math.pow(2, i);\n}\nconst tileGrid = new WMTSTileGrid({\n  origin: getTopLeft(projection.getExtent()),\n  resolutions: resolutions,\n  matrixIds: matrixIds\n});\n\nconst scalgoToken = 'CC5BF28A7D96B320C7DFBFD1236B5BEB';\n\nconst wmtsSource = new WMTS({\n  url: 'http://ts2.scalgo.com/olpatch/wmts?token=' + scalgoToken,\n  layer: 'SRTM_4_1:SRTM_4_1_flooded_sealevels',\n  format: 'image/png',\n  matrixSet: 'EPSG:3857',\n  attributions: [\n    '<a href=\"http://scalgo.com\">SCALGO</a>',\n    '<a href=\"http://www.cgiar-csi.org/data/' +\n        'srtm-90m-digital-elevation-database-v4-1\">CGIAR-CSI SRTM</a>'\n  ],\n  tileGrid: tileGrid,\n  style: 'default',\n  dimensions: {\n    'threshold': 100\n  }\n});\n\nconst map = new Map({\n  target: 'map',\n  view: new View({\n    projection: projection,\n    center: [-9871995, 3566245],\n    zoom: 6\n  }),\n  layers: [\n    new TileLayer({\n      source: new OSM()\n    }),\n    new TileLayer({\n      opacity: 0.5,\n      source: wmtsSource\n    })\n  ]\n});\n\nconst updateSourceDimension = function(source, sliderVal) {\n  source.updateDimensions({'threshold': sliderVal});\n  document.getElementById('theinfo').innerHTML = sliderVal + ' meters';\n};\n\nupdateSourceDimension(wmtsSource, 10);\n\ndocument.getElementById('slider').addEventListener('input', function() {\n  updateSourceDimension(wmtsSource, this.value);\n});\n"],"sourceRoot":""}