(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{232:function(e,t,n){"use strict";n.r(t);var o=n(3),r=n(2),a=n(243),s=n(0),c=n(15),i=n(20),l=n(40),u=n(93),w=n(19),d=n(32),g=n(24),b=n(36),f=n(14),p=n(8),h=n(6);const y=function(){u.a.call(this),this.dataProjection=Object(p.g)("EPSG:4326")};Object(s.c)(y,u.a);const j=[null],O=Object(h.r)(j,{nd:function(e,t){t[t.length-1].ndrefs.push(e.getAttribute("ref"))},tag:F}),m=Object(h.r)(j,{node:function(e,t){const n=t[0],o=t[t.length-1],r=e.getAttribute("id"),a=[parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))];o.nodes[r]=a;const s=Object(h.u)({tags:{}},k,e,t);if(!Object(f.d)(s.tags)){const e=new g.a(a);Object(l.b)(e,!1,n);const t=new i.a(e);t.setId(r),t.setProperties(s.tags),o.features.push(t)}},way:function(e,t){const n=e.getAttribute("id"),o=Object(h.u)({id:n,ndrefs:[],tags:{}},O,e,t);t[t.length-1].ways.push(o)}}),k=Object(h.r)(j,{tag:F});function F(e,t){t[t.length-1].tags[e.getAttribute("k")]=e.getAttribute("v")}y.prototype.readFeatures,y.prototype.readFeaturesFromNode=function(e,t){const n=this.getReadOptions(e,t);if("osm"==e.localName){const t=Object(h.u)({nodes:{},ways:[],features:[]},m,e,[n]);for(let e=0;e<t.ways.length;e++){const o=t.ways[e],r=[];for(let e=0,n=o.ndrefs.length;e<n;e++){const n=t.nodes[o.ndrefs[e]];Object(c.c)(r,n)}let a;o.ndrefs[0]==o.ndrefs[o.ndrefs.length-1]?(a=new b.b(null)).setFlatCoordinates(w.a.XY,r,[r.length]):(a=new d.a(null)).setFlatCoordinates(w.a.XY,r),Object(l.b)(a,!1,n);const s=new i.a(a);s.setId(o.id),s.setProperties(o.tags),t.features.push(s)}if(t.features)return t.features}return[]},y.prototype.readProjection,y.prototype.writeFeatureNode=function(e,t){},y.prototype.writeFeaturesNode=function(e,t){},y.prototype.writeGeometryNode=function(e,t){};var P=y,v=n(29),A=n(4),E=n(131),I=n(43),L=n(13),N=n(76),S=n(117),q=n(122),x=n(402);let R=null;const z={amenity:{parking:new N.c({stroke:new S.a({color:"rgba(170, 170, 170, 1.0)",width:1}),fill:new q.a({color:"rgba(170, 170, 170, 0.3)"})})},building:{".*":new N.c({zIndex:100,stroke:new S.a({color:"rgba(246, 99, 79, 1.0)",width:1}),fill:new q.a({color:"rgba(246, 99, 79, 0.3)"})})},highway:{service:new N.c({stroke:new S.a({color:"rgba(255, 255, 255, 1.0)",width:2})}),".*":new N.c({stroke:new S.a({color:"rgba(255, 255, 255, 1.0)",width:3})})},landuse:{"forest|grass|allotments":new N.c({stroke:new S.a({color:"rgba(140, 208, 95, 1.0)",width:1}),fill:new q.a({color:"rgba(140, 208, 95, 0.3)"})})},natural:{tree:new N.c({image:new x.a({radius:2,fill:new q.a({color:"rgba(140, 208, 95, 1.0)"}),stroke:null})})}},C=new L.b({format:new P,loader:function(e,t,n){const o=Object(p.n)(e,n,"EPSG:4326"),r=new XMLHttpRequest;r.open("POST","https://overpass-api.de/api/interpreter"),r.addEventListener("load",function(){const e=(new P).readFeatures(r.responseText,{featureProjection:R.getView().getProjection()});C.addFeatures(e)});const a="(node("+o[1]+","+o[0]+","+o[3]+","+o[2]+");rel(bn)->.foo;way(bn);node(w)->.foo;rel(bw););out meta;";r.send(a)},strategy:E.b}),G=new v.a({source:C,style:function(e){for(const t in z){const n=e.get(t);if(void 0!==n)for(const e in z[t])if(new RegExp(e).test(n))return z[t][e]}return null}}),J=new A.a({source:new I.a({imagerySet:"Aerial",key:"As1HiMj1PvLPlqc_gtM7AqZfBL8ZL3VrjaS3zIb22Uvb9WKhuJObROC-qUpa81U5"})});R=new o.a({layers:[J,G],target:document.getElementById("map"),controls:Object(a.a)({attributionOptions:{collapsible:!1}}),view:new r.a({center:[739218,5906096],maxZoom:19,zoom:17})})}},[[232,0]]]);
//# sourceMappingURL=vector-osm.js.map