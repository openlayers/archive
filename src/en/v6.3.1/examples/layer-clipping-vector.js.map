{"version":3,"sources":["webpack:///./layer-clipping-vector.js"],"names":["base","source","clipLayer","style","url","format","fill","color","on","e","context","globalCompositeOperation","const","vectorContext","getSource","forEachFeature","feature","drawFeature","layers","target","view","center","zoom"],"mappings":"2FAAA,8FAUMA,EAAO,IAAI,IAAU,CACzBC,OAAQ,IAAI,MAGRC,EAAY,IAAI,IAAY,CAChCC,MAAO,KACPF,OAAQ,IAAI,IAAa,CACvBG,IACA,qCACAC,OAAQ,IAAI,QAIVF,EAAQ,IAAI,IAAM,CACtBG,KAAM,IAAI,IAAK,CACbC,MAAO,YAIXP,EAAKQ,GAAG,cAAc,SAASC,GAC7BA,EAAEC,QAAQC,yBAA2B,iBACrCC,IAAMC,EAAgB,YAAiBJ,GACvCP,EAAUY,YAAYC,gBAAe,SAASC,GAC5CH,EAAcI,YAAYD,EAASb,MAErCM,EAAEC,QAAQC,yBAA2B,iBAG3B,IAAI,IAAI,CAClBO,OAAQ,CAAClB,EAAME,GACfiB,OAAQ,MACRC,KAAM,IAAI,IAAK,CACbC,OAAQ,YAAW,CAAC,KAAM,QAC1BC,KAAM,Q","file":"layer-clipping-vector.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport {Tile as TileLayer, Vector as VectorLayer} from '../src/ol/layer.js';\nimport VectorSource from '../src/ol/source/Vector.js';\nimport GeoJSON from '../src/ol/format/GeoJSON.js';\nimport OSM from '../src/ol/source/OSM.js';\nimport {Fill, Style} from '../src/ol/style.js';\nimport {getVectorContext} from '../src/ol/render.js';\nimport {fromLonLat} from '../src/ol/proj.js';\n\nconst base = new TileLayer({\n  source: new OSM()\n});\n\nconst clipLayer = new VectorLayer({\n  style: null,\n  source: new VectorSource({\n    url:\n    './data/geojson/switzerland.geojson',\n    format: new GeoJSON()\n  })\n});\n\nconst style = new Style({\n  fill: new Fill({\n    color: 'black'\n  })\n});\n\nbase.on('postrender', function(e) {\n  e.context.globalCompositeOperation = 'destination-in';\n  const vectorContext = getVectorContext(e);\n  clipLayer.getSource().forEachFeature(function(feature) {\n    vectorContext.drawFeature(feature, style);\n  });\n  e.context.globalCompositeOperation = 'source-over';\n});\n\nconst map = new Map({\n  layers: [base, clipLayer],\n  target: 'map',\n  view: new View({\n    center: fromLonLat([8.23, 46.86]),\n    zoom: 7\n  })\n});\n"],"sourceRoot":""}