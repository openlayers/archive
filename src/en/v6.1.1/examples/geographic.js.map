{"version":3,"sources":["webpack:///./geographic.js"],"names":["const","place","point","map","target","view","center","zoom","layers","source","features","style","image","radius","fill","color","element","document","getElementById","popup","positioning","stopEvent","offset","formatCoordinate","coordinate","toFixed","addOverlay","info","on","getView","getCenter","innerHTML","event","feature","getFeaturesAtPixel","pixel","getGeometry","getCoordinates","setPosition","$","popover","placement","html","content","hasFeatureAtPixel","getViewport","cursor"],"mappings":"2FAAA,8GAOA,cAEAA,IAAMC,EAAQ,EAAE,IAAK,IAEfC,EAAQ,IAAI,IAAMD,GAElBE,EAAM,IAAI,IAAI,CAClBC,OAAQ,MACRC,KAAM,IAAI,IAAK,CACbC,OAAQL,EACRM,KAAM,IAERC,OAAQ,CACN,IAAI,IAAU,CACZC,OAAQ,IAAI,MAEd,IAAI,IAAY,CACdA,OAAQ,IAAI,IAAa,CACvBC,SAAU,CACR,IAAI,IAAQR,MAGhBS,MAAO,IAAI,IAAM,CACfC,MAAO,IAAI,IAAO,CAChBC,OAAQ,EACRC,KAAM,IAAI,IAAK,CAACC,MAAO,iBAO3BC,EAAUC,SAASC,eAAe,SAElCC,EAAQ,IAAI,IAAQ,CACxBH,QAASA,EACTI,YAAa,gBACbC,WAAW,EACXC,OAAQ,CAAC,GAAI,MAIf,SAASC,EAAiBC,GACxB,MAAO,6DAGqBA,EAAW,GAAGC,QAAQ,GAAE,2CACxBD,EAAW,GAAGC,QAAQ,GAAE,2CAPtDtB,EAAIuB,WAAWP,GAYfnB,IAAM2B,EAAOV,SAASC,eAAe,QACrCf,EAAIyB,GAAG,UAAW,WAChB5B,IACMM,EADOH,EAAI0B,UACGC,YACpBH,EAAKI,UAAYR,EAAiBjB,KAGpCH,EAAIyB,GAAG,QAAS,SAASI,GACvBhC,IAAMiC,EAAU9B,EAAI+B,mBAAmBF,EAAMG,OAAO,GACpD,GAAIF,EAAS,CACXjC,IAAMwB,EAAaS,EAAQG,cAAcC,iBACzClB,EAAMmB,YAAYd,GAClBe,EAAEvB,GAASwB,QAAQ,CACjBC,UAAW,MACXC,MAAM,EACNC,QAASpB,EAAiBC,KAE5Be,EAAEvB,GAASwB,QAAQ,aAEnBD,EAAEvB,GAASwB,QAAQ,aAIvBrC,EAAIyB,GAAG,cAAe,SAASI,GACzB7B,EAAIyC,kBAAkBZ,EAAMG,OAC9BhC,EAAI0C,cAAclC,MAAMmC,OAAS,UAEjC3C,EAAI0C,cAAclC,MAAMmC,OAAS,c","file":"geographic.js","sourcesContent":["import {useGeographic} from '../src/ol/proj.js';\nimport {Map, View, Feature, Overlay} from '../src/ol/index.js';\nimport {Point} from '../src/ol/geom.js';\nimport {Vector as VectorLayer, Tile as TileLayer} from '../src/ol/layer.js';\nimport {OSM, Vector as VectorSource} from '../src/ol/source.js';\nimport {Style, Circle, Fill} from '../src/ol/style.js';\n\nuseGeographic();\n\nconst place = [-110, 45];\n\nconst point = new Point(place);\n\nconst map = new Map({\n  target: 'map',\n  view: new View({\n    center: place,\n    zoom: 8\n  }),\n  layers: [\n    new TileLayer({\n      source: new OSM()\n    }),\n    new VectorLayer({\n      source: new VectorSource({\n        features: [\n          new Feature(point)\n        ]\n      }),\n      style: new Style({\n        image: new Circle({\n          radius: 9,\n          fill: new Fill({color: 'red'})\n        })\n      })\n    })\n  ]\n});\n\nconst element = document.getElementById('popup');\n\nconst popup = new Overlay({\n  element: element,\n  positioning: 'bottom-center',\n  stopEvent: false,\n  offset: [0, -10]\n});\nmap.addOverlay(popup);\n\nfunction formatCoordinate(coordinate) {\n  return `\n    <table>\n      <tbody>\n        <tr><th>lon</th><td>${coordinate[0].toFixed(2)}</td></tr>\n        <tr><th>lat</th><td>${coordinate[1].toFixed(2)}</td></tr>\n      </tbody>\n    </table>`;\n}\n\nconst info = document.getElementById('info');\nmap.on('moveend', function() {\n  const view = map.getView();\n  const center = view.getCenter();\n  info.innerHTML = formatCoordinate(center);\n});\n\nmap.on('click', function(event) {\n  const feature = map.getFeaturesAtPixel(event.pixel)[0];\n  if (feature) {\n    const coordinate = feature.getGeometry().getCoordinates();\n    popup.setPosition(coordinate);\n    $(element).popover({\n      placement: 'top',\n      html: true,\n      content: formatCoordinate(coordinate)\n    });\n    $(element).popover('show');\n  } else {\n    $(element).popover('destroy');\n  }\n});\n\nmap.on('pointermove', function(event) {\n  if (map.hasFeatureAtPixel(event.pixel)) {\n    map.getViewport().style.cursor = 'pointer';\n  } else {\n    map.getViewport().style.cursor = 'inherit';\n  }\n});\n"],"sourceRoot":""}