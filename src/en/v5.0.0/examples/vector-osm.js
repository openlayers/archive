(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{236:function(e,t,n){"use strict";n.r(t);var o=n(5),r=n(4),s=n(24),a=n(1),i=n(15),c=n(23),l=n(41),u=n(94),d=n(21),w=n(40),g=n(28),f=n(38),b=n(14),p=n(7),h=n(0);const y=function(){u.a.call(this),this.dataProjection=Object(p.h)("EPSG:4326")};Object(a.c)(y,u.a);const j=[null],O=Object(h.r)(j,{nd:function(e,t){t[t.length-1].ndrefs.push(e.getAttribute("ref"))},tag:F}),m=Object(h.r)(j,{node:function(e,t){const n=t[0],o=t[t.length-1],r=e.getAttribute("id"),s=[parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))];o.nodes[r]=s;const a=Object(h.u)({tags:{}},k,e,t);if(!Object(b.d)(a.tags)){const e=new g.a(s);Object(l.b)(e,!1,n);const t=new c.a(e);t.setId(r),t.setProperties(a.tags),o.features.push(t)}},way:function(e,t){const n=e.getAttribute("id"),o=Object(h.u)({id:n,ndrefs:[],tags:{}},O,e,t);t[t.length-1].ways.push(o)}}),k=Object(h.r)(j,{tag:F});function F(e,t){t[t.length-1].tags[e.getAttribute("k")]=e.getAttribute("v")}y.prototype.readFeatures,y.prototype.readFeaturesFromNode=function(e,t){const n=this.getReadOptions(e,t);if("osm"==e.localName){const t=Object(h.u)({nodes:{},ways:[],features:[]},m,e,[n]);for(let e=0;e<t.ways.length;e++){const o=t.ways[e],r=[];for(let e=0,n=o.ndrefs.length;e<n;e++){const n=t.nodes[o.ndrefs[e]];Object(i.c)(r,n)}let s;o.ndrefs[0]==o.ndrefs[o.ndrefs.length-1]?(s=new f.b(null)).setFlatCoordinates(d.a.XY,r,[r.length]):(s=new w.a(null)).setFlatCoordinates(d.a.XY,r),Object(l.b)(s,!1,n);const a=new c.a(s);a.setId(o.id),a.setProperties(o.tags),t.features.push(a)}if(t.features)return t.features}return[]},y.prototype.readProjection,y.prototype.writeFeatureNode=function(e,t){},y.prototype.writeFeaturesNode=function(e,t){},y.prototype.writeGeometryNode=function(e,t){};var P=y,v=n(10),A=n(139),E=n(46),I=n(22),L=n(2);let N=null;const S={amenity:{parking:new L.g({stroke:new L.f({color:"rgba(170, 170, 170, 1.0)",width:1}),fill:new L.c({color:"rgba(170, 170, 170, 0.3)"})})},building:{".*":new L.g({zIndex:100,stroke:new L.f({color:"rgba(246, 99, 79, 1.0)",width:1}),fill:new L.c({color:"rgba(246, 99, 79, 0.3)"})})},highway:{service:new L.g({stroke:new L.f({color:"rgba(255, 255, 255, 1.0)",width:2})}),".*":new L.g({stroke:new L.f({color:"rgba(255, 255, 255, 1.0)",width:3})})},landuse:{"forest|grass|allotments":new L.g({stroke:new L.f({color:"rgba(140, 208, 95, 1.0)",width:1}),fill:new L.c({color:"rgba(140, 208, 95, 0.3)"})})},natural:{tree:new L.g({image:new L.b({radius:2,fill:new L.c({color:"rgba(140, 208, 95, 1.0)"}),stroke:null})})}},q=new I.b({format:new P,loader:function(e,t,n){const o=Object(p.o)(e,n,"EPSG:4326"),r=new XMLHttpRequest;r.open("POST","https://overpass-api.de/api/interpreter"),r.addEventListener("load",function(){const e=(new P).readFeatures(r.responseText,{featureProjection:N.getView().getProjection()});q.addFeatures(e)});const s="(node("+o[1]+","+o[0]+","+o[3]+","+o[2]+");rel(bn)->.foo;way(bn);node(w)->.foo;rel(bw););out meta;";r.send(s)},strategy:A.b}),x=new v.e({source:q,style:function(e){for(const t in S){const n=e.get(t);if(void 0!==n)for(const e in S[t])if(new RegExp(e).test(n))return S[t][e]}return null}}),R=new v.d({source:new E.a({imagerySet:"Aerial",key:"As1HiMj1PvLPlqc_gtM7AqZfBL8ZL3VrjaS3zIb22Uvb9WKhuJObROC-qUpa81U5"})});N=new o.a({layers:[R,x],target:document.getElementById("map"),controls:Object(s.h)({attributionOptions:{collapsible:!1}}),view:new r.a({center:[739218,5906096],maxZoom:19,zoom:17})})}},[[236,0]]]);
//# sourceMappingURL=vector-osm.js.map