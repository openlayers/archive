{"version":3,"sources":["webpack:///./getfeatureinfo-image.js"],"names":["wmsSource","url","params","LAYERS","serverType","crossOrigin","wmsLayer","_src_ol_layer_Image_js__WEBPACK_IMPORTED_MODULE_2__","source","view","_src_ol_View_js__WEBPACK_IMPORTED_MODULE_1__","center","zoom","map","_src_ol_Map_js__WEBPACK_IMPORTED_MODULE_0__","layers","target","on","evt","document","getElementById","innerHTML","viewResolution","getResolution","getGetFeatureInfoUrl","coordinate","INFO_FORMAT","dragging","pixel","getEventPixel","originalEvent","hit","forEachLayerAtPixel","getTargetElement","style","cursor"],"mappings":"6HAMA,MAAAA,EAAA,eACAC,IAAA,qCACAC,QAAWC,OAAA,SACXC,WAAA,YACAC,YAAA,cAGAC,EAAA,IAAAC,EAAA,GACAC,OAAAR,IAGAS,EAAA,IAAAC,EAAA,GACAC,QAAA,KACAC,KAAA,IAGAC,EAAA,IAAAC,EAAA,GACAC,QAAAT,GACAU,OAAA,MACAP,SAGAI,EAAAI,GAAA,uBAAAC,GACAC,SAAAC,eAAA,QAAAC,UAAA,GACA,MAAAC,EAA2Cb,EAAAc,gBAC3CtB,EAAAD,EAAAwB,qBACAN,EAAAO,WAAAH,EAAA,aACKI,YAAA,cACLzB,IACAkB,SAAAC,eAAA,QAAAC,UACA,yBAAApB,EAAA,iBAIAY,EAAAI,GAAA,uBAAAC,GACA,GAAAA,EAAAS,SACA,OAEA,MAAAC,EAAAf,EAAAgB,cAAAX,EAAAY,eACAC,EAAAlB,EAAAmB,oBAAAJ,EAAA,WACA,WAEAf,EAAAoB,mBAAAC,MAAAC,OAAAJ,EAAA","file":"getfeatureinfo-image.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport ImageLayer from '../src/ol/layer/Image.js';\nimport ImageWMS from '../src/ol/source/ImageWMS.js';\n\n\nconst wmsSource = new ImageWMS({\n  url: 'https://ahocevar.com/geoserver/wms',\n  params: {'LAYERS': 'ne:ne'},\n  serverType: 'geoserver',\n  crossOrigin: 'anonymous'\n});\n\nconst wmsLayer = new ImageLayer({\n  source: wmsSource\n});\n\nconst view = new View({\n  center: [0, 0],\n  zoom: 1\n});\n\nconst map = new Map({\n  layers: [wmsLayer],\n  target: 'map',\n  view: view\n});\n\nmap.on('singleclick', function(evt) {\n  document.getElementById('info').innerHTML = '';\n  const viewResolution = /** @type {number} */ (view.getResolution());\n  const url = wmsSource.getGetFeatureInfoUrl(\n    evt.coordinate, viewResolution, 'EPSG:3857',\n    {'INFO_FORMAT': 'text/html'});\n  if (url) {\n    document.getElementById('info').innerHTML =\n        '<iframe seamless src=\"' + url + '\"></iframe>';\n  }\n});\n\nmap.on('pointermove', function(evt) {\n  if (evt.dragging) {\n    return;\n  }\n  const pixel = map.getEventPixel(evt.originalEvent);\n  const hit = map.forEachLayerAtPixel(pixel, function() {\n    return true;\n  });\n  map.getTargetElement().style.cursor = hit ? 'pointer' : '';\n});\n"],"sourceRoot":""}