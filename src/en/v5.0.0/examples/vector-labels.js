(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{265:function(e,t,n){"use strict";n.r(t);var o=n(5),l=n(4),s=n(44),i=n(10),m=n(16),d=n(2);let u=!1;const a={points:{text:document.getElementById("points-text"),align:document.getElementById("points-align"),baseline:document.getElementById("points-baseline"),rotation:document.getElementById("points-rotation"),font:document.getElementById("points-font"),weight:document.getElementById("points-weight"),size:document.getElementById("points-size"),offsetX:document.getElementById("points-offset-x"),offsetY:document.getElementById("points-offset-y"),color:document.getElementById("points-color"),outline:document.getElementById("points-outline"),outlineWidth:document.getElementById("points-outline-width"),maxreso:document.getElementById("points-maxreso")},lines:{text:document.getElementById("lines-text"),align:document.getElementById("lines-align"),baseline:document.getElementById("lines-baseline"),rotation:document.getElementById("lines-rotation"),font:document.getElementById("lines-font"),weight:document.getElementById("lines-weight"),placement:document.getElementById("lines-placement"),maxangle:document.getElementById("lines-maxangle"),overflow:document.getElementById("lines-overflow"),size:document.getElementById("lines-size"),offsetX:document.getElementById("lines-offset-x"),offsetY:document.getElementById("lines-offset-y"),color:document.getElementById("lines-color"),outline:document.getElementById("lines-outline"),outlineWidth:document.getElementById("lines-outline-width"),maxreso:document.getElementById("lines-maxreso")},polygons:{text:document.getElementById("polygons-text"),align:document.getElementById("polygons-align"),baseline:document.getElementById("polygons-baseline"),rotation:document.getElementById("polygons-rotation"),font:document.getElementById("polygons-font"),weight:document.getElementById("polygons-weight"),placement:document.getElementById("polygons-placement"),maxangle:document.getElementById("polygons-maxangle"),overflow:document.getElementById("polygons-overflow"),size:document.getElementById("polygons-size"),offsetX:document.getElementById("polygons-offset-x"),offsetY:document.getElementById("polygons-offset-y"),color:document.getElementById("polygons-color"),outline:document.getElementById("polygons-outline"),outlineWidth:document.getElementById("polygons-outline-width"),maxreso:document.getElementById("polygons-maxreso")}},g=function(e,t,n){const o=n.text.value,l=n.maxreso.value;let s=e.get("name");return t>l?s="":"hide"==o?s="":"shorten"==o?s=s.trunc(12):"wrap"!=o||n.placement&&"line"==n.placement.value||(s=function e(t,n,o){if(t.length>n){let l=n;for(;l>0&&" "!=t[l]&&"-"!=t[l];)l--;if(l>0){let s;s="-"==t.substring(l,l+1)?t.substring(0,l+1):t.substring(0,l);const i=t.substring(l+1);return s+o+e(i,n,o)}}return t}(s,16,"\n")),s},c=function(e,t,n){const o=n.align.value,l=n.baseline.value,s=n.size.value,i=parseInt(n.offsetX.value,10),m=parseInt(n.offsetY.value,10),a=n.weight.value,c=n.placement?n.placement.value:void 0,r=n.maxangle?parseFloat(n.maxangle.value):void 0,y=n.overflow?"true"==n.overflow.value:void 0,f=parseFloat(n.rotation.value);if("'Open Sans'"==n.font.value&&!u){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css?family=Open+Sans",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e),u=!0}const p=a+" "+s+" "+n.font.value,w=n.color.value,E=n.outline.value,I=parseInt(n.outlineWidth.value,10);return new d.h({textAlign:""==o?void 0:o,textBaseline:l,font:p,text:g(e,t,n),fill:new d.c({color:w}),stroke:new d.f({color:E,width:I}),offsetX:i,offsetY:m,placement:c,maxAngle:r,overflow:y,rotation:f})};function r(e,t){return new d.g({stroke:new d.f({color:"blue",width:1}),fill:new d.c({color:"rgba(0, 0, 255, 0.1)"}),text:c(e,t,a.polygons)})}const y=new i.e({source:new m.n({url:"data/geojson/polygon-samples.geojson",format:new s.a}),style:r});function f(e,t){return new d.g({stroke:new d.f({color:"green",width:2}),text:c(e,t,a.lines)})}const p=new i.e({source:new m.n({url:"data/geojson/line-samples.geojson",format:new s.a}),style:f});function w(e,t){return new d.g({image:new d.b({radius:10,fill:new d.c({color:"rgba(255, 0, 0, 0.1)"}),stroke:new d.f({color:"red",width:1})}),text:c(e,t,a.points)})}const E=new i.e({source:new m.n({url:"data/geojson/point-samples.geojson",format:new s.a}),style:w});new o.a({layers:[new i.d({source:new m.f}),y,p,E],target:"map",view:new l.a({center:[-8161939,6095025],zoom:8})});document.getElementById("refresh-points").addEventListener("click",function(){E.setStyle(w)}),document.getElementById("refresh-lines").addEventListener("click",function(){p.setStyle(f)}),document.getElementById("refresh-polygons").addEventListener("click",function(){y.setStyle(r)}),String.prototype.trunc=String.prototype.trunc||function(e){return this.length>e?this.substr(0,e-1)+"...":this.substr(0)}}},[[265,0]]]);
//# sourceMappingURL=vector-labels.js.map