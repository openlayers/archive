(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{323:function(e,t,n){"use strict";n.r(t);var o=n(5),i=n(108),c=n(88),r=n(167),a=n(4),s=n(49),l=n(101),d=n(10),u=n(16),f=n(2);const w=new d.d({source:new u.f}),g=new u.n,m=new d.e({source:g,style:new f.g({fill:new f.c({color:"rgba(255, 255, 255, 0.2)"}),stroke:new f.f({color:"#ffcc33",width:2}),image:new f.b({radius:7,fill:new f.c({color:"#ffcc33"})})})});let p,h,b,v,y;const k=new o.a({layers:[w,m],target:"map",view:new a.a({center:[-11e6,46e5],zoom:15})});k.on("pointermove",function(e){if(e.dragging)return;let t="Click to start drawing";if(p){const e=p.getGeometry();e instanceof s.f?t="Click to continue drawing the polygon":e instanceof s.a&&(t="Click to continue drawing the line")}h.innerHTML=t,b.setPosition(e.coordinate),h.classList.remove("hidden")}),k.getViewport().addEventListener("mouseout",function(){h.classList.add("hidden")});const C=document.getElementById("type");let L;const M=function(e){const t=Object(r.c)(e);let n;return n=t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"},O=function(e){const t=Object(r.a)(e);let n;return n=t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"};function N(){const e="area"==C.value?"Polygon":"LineString";let t;L=new l.c({source:g,type:e,style:new f.g({fill:new f.c({color:"rgba(255, 255, 255, 0.2)"}),stroke:new f.f({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new f.b({radius:5,stroke:new f.f({color:"rgba(0, 0, 0, 0.7)"}),fill:new f.c({color:"rgba(255, 255, 255, 0.2)"})})})}),k.addInteraction(L),E(),function(){h&&h.parentNode.removeChild(h);(h=document.createElement("div")).className="tooltip hidden",b=new c.a({element:h,offset:[15,0],positioning:"center-left"}),k.addOverlay(b)}(),L.on("drawstart",function(e){p=e.feature;let n=e.coordinate;t=p.getGeometry().on("change",function(e){const t=e.target;let o;t instanceof s.f?(o=O(t),n=t.getInteriorPoint().getCoordinates()):t instanceof s.a&&(o=M(t),n=t.getLastCoordinate()),v.innerHTML=o,y.setPosition(n)})},this),L.on("drawend",function(){v.className="tooltip tooltip-static",y.setOffset([0,-7]),p=null,v=null,E(),Object(i.b)(t)},this)}function E(){v&&v.parentNode.removeChild(v),(v=document.createElement("div")).className="tooltip tooltip-measure",y=new c.a({element:v,offset:[0,-15],positioning:"bottom-center"}),k.addOverlay(y)}C.onchange=function(){k.removeInteraction(L),N()},N()}},[[323,0]]]);
//# sourceMappingURL=measure.js.map