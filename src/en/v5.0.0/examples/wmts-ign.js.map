{"version":3,"sources":["webpack:///./wmts-ign.js"],"names":["map","_src_ol_Map_js__WEBPACK_IMPORTED_MODULE_0__","target","controls","Object","_src_ol_control_js__WEBPACK_IMPORTED_MODULE_2__","attributionOptions","collapsible","view","_src_ol_View_js__WEBPACK_IMPORTED_MODULE_1__","zoom","center","_src_ol_proj_js__WEBPACK_IMPORTED_MODULE_5__","resolutions","matrixIds","proj3857","maxResolution","_src_ol_extent_js__WEBPACK_IMPORTED_MODULE_3__","getExtent","i","toString","Math","pow","tileGrid","_src_ol_tilegrid_WMTS_js__WEBPACK_IMPORTED_MODULE_7__","origin","ign_source","_src_ol_source_WMTS_js__WEBPACK_IMPORTED_MODULE_6__","url","layer","matrixSet","format","projection","style","attributions","ign","_src_ol_layer_Tile_js__WEBPACK_IMPORTED_MODULE_4__","source","addLayer"],"mappings":"mKAUA,MAAAA,EAAA,IAAAC,EAAA,GACAC,OAAA,MACAC,SAAAC,OAAAC,EAAA,EAAAD,EACAE,oBACAC,aAAA,KAGAC,KAAA,IAAAC,EAAA,GACAC,KAAA,EACAC,OAAAP,OAAAQ,EAAA,EAAAR,EAAA,WAIAS,KACAC,KACAC,EAAAX,OAAAQ,EAAA,EAAAR,CAAA,aACAY,EAAAZ,OAAAa,EAAA,EAAAb,CAAAW,EAAAG,aAAA,IAEA,QAAAC,EAAA,EAAeA,EAAA,GAAQA,IACvBL,EAAAK,KAAAC,WACAP,EAAAM,GAAAH,EAAAK,KAAAC,IAAA,EAAAH,GAGA,MAAAI,EAAA,IAAAC,EAAA,GACAC,SAAA,mBACAZ,cACAC,cAOAY,EAAA,IAAAC,EAAA,GACAC,IAAA,mDACAC,MAAA,+BACAC,UAAA,KACAC,OAAA,aACAC,WAAA,YACAT,WACAU,MAAA,SACAC,aAAA,oJAKAC,EAAA,IAAAC,EAAA,GACAC,OAAAX,IAGA1B,EAAAsC,SAAAH","file":"wmts-ign.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport {defaults as defaultControls} from '../src/ol/control.js';\nimport {getWidth} from '../src/ol/extent.js';\nimport TileLayer from '../src/ol/layer/Tile.js';\nimport {fromLonLat, get as getProjection} from '../src/ol/proj.js';\nimport WMTS from '../src/ol/source/WMTS.js';\nimport WMTSTileGrid from '../src/ol/tilegrid/WMTS.js';\n\n\nconst map = new Map({\n  target: 'map',\n  controls: defaultControls({\n    attributionOptions: {\n      collapsible: false\n    }\n  }),\n  view: new View({\n    zoom: 5,\n    center: fromLonLat([5, 45])\n  })\n});\n\nconst resolutions = [];\nconst matrixIds = [];\nconst proj3857 = getProjection('EPSG:3857');\nconst maxResolution = getWidth(proj3857.getExtent()) / 256;\n\nfor (let i = 0; i < 18; i++) {\n  matrixIds[i] = i.toString();\n  resolutions[i] = maxResolution / Math.pow(2, i);\n}\n\nconst tileGrid = new WMTSTileGrid({\n  origin: [-20037508, 20037508],\n  resolutions: resolutions,\n  matrixIds: matrixIds\n});\n\n// API key valid for 'openlayers.org' and 'localhost'.\n// Expiration date is 06/29/2018.\nconst key = '2mqbg0z6cx7ube8gsou10nrt';\n\nconst ign_source = new WMTS({\n  url: 'https://wxs.ign.fr/' + key + '/wmts',\n  layer: 'GEOGRAPHICALGRIDSYSTEMS.MAPS',\n  matrixSet: 'PM',\n  format: 'image/jpeg',\n  projection: 'EPSG:3857',\n  tileGrid: tileGrid,\n  style: 'normal',\n  attributions: '<a href=\"http://www.geoportail.fr/\" target=\"_blank\">' +\n        '<img src=\"https://api.ign.fr/geoportail/api/js/latest/' +\n        'theme/geoportal/img/logo_gp.gif\"></a>'\n});\n\nconst ign = new TileLayer({\n  source: ign_source\n});\n\nmap.addLayer(ign);\n"],"sourceRoot":""}