(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{345:function(e,t,n){"use strict";n.r(t);var o=n(23),a=n(5),r=n(4),i=n(24),s=n(208),c=n(49),l=n(10),u=n(19),g=n(22),d=n(2);const w={"Clement Latour":"rgba(0, 0, 255, 0.7)","Damien de Baesnt":"rgba(0, 215, 255, 0.7)","Sylvain Dhonneur":"rgba(0, 165, 255, 0.7)","Tom Payne":"rgba(0, 255, 255, 0.7)","Ulrich Prinz":"rgba(0, 215, 255, 0.7)"},p={},m=new g.b,f=["data/igc/Clement-Latour.igc","data/igc/Damien-de-Baenst.igc","data/igc/Sylvain-Dhonneur.igc","data/igc/Tom-Payne.igc","data/igc/Ulrich-Prinz.igc"];function h(e,t){const n=new XMLHttpRequest;n.open("GET",e),n.onload=function(){t(n.responseText)},n.send()}const b=new s.a;for(let e=0;e<f.length;++e)h(f[e],function(e){const t=b.readFeatures(e,{featureProjection:"EPSG:3857"});m.addFeatures(t)});const y={start:1/0,stop:-1/0,duration:0};m.on("addfeature",function(e){const t=e.feature.getGeometry();y.start=Math.min(y.start,t.getFirstCoordinate()[2]),y.stop=Math.max(y.stop,t.getLastCoordinate()[2]),y.duration=y.stop-y.start});const C=new a.a({layers:[new l.d({source:new u.b({attributions:['All maps Â© <a href="https://www.opencyclemap.org/">OpenCycleMap</a>',u.a],url:"https://{a-c}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=0e6fc415256d4fbb9b5166a718591d71"})}),new l.e({source:m,style:function(e){const t=w[e.get("PLT")];let n=p[t];return n||(n=new d.g({stroke:new d.f({color:t,width:3})}),p[t]=n),n}})],target:"map",controls:Object(i.h)({attributionOptions:{collapsible:!1}}),view:new r.a({center:[703365.7089403362,5714629.865071137],zoom:9})});let v=null,T=null;const L=function(e){const t=m.getClosestFeatureToCoordinate(e),n=document.getElementById("info");if(null===t)v=null,T=null,n.innerHTML="&nbsp;";else{const o=t.getGeometry().getClosestPoint(e);null===v?v=new c.e(o):v.setCoordinates(o);const a=new Date(1e3*o[2]);n.innerHTML=t.get("PLT")+" ("+a.toUTCString()+")";const r=[e,[o[0],o[1]]];null===T?T=new c.a(r):T.setCoordinates(r)}C.render()};C.on("pointermove",function(e){if(e.dragging)return;const t=C.getEventCoordinate(e.originalEvent);L(t)}),C.on("click",function(e){L(e.coordinate)});const P=new d.f({color:"rgba(255,0,0,0.9)",width:1}),E=new d.g({stroke:P,image:new d.b({radius:5,fill:null,stroke:P})});C.on("postcompose",function(e){const t=e.vectorContext;t.setStyle(E),null!==v&&t.drawGeometry(v),null!==T&&t.drawGeometry(T)});const G=new l.e({source:new g.b,map:C,style:new d.g({image:new d.b({radius:5,fill:new d.c({color:"rgba(255,0,0,0.9)"})})})});document.getElementById("time").addEventListener("input",function(){const e=parseInt(this.value,10)/100,t=y.start+y.duration*e;m.forEachFeature(function(e){const n=e.getGeometry().getCoordinateAtM(t,!0);let a=e.get("highlight");void 0===a?(a=new o.a(new c.e(n)),e.set("highlight",a),G.getSource().addFeature(a)):a.getGeometry().setCoordinates(n)}),C.render()})}},[[345,0]]]);
//# sourceMappingURL=igc.js.map