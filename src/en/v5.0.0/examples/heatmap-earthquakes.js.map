{"version":3,"sources":["webpack:///./heatmap-earthquakes.js"],"names":["blur","document","getElementById","radius","vector","_src_ol_layer_js__WEBPACK_IMPORTED_MODULE_3__","source","_src_ol_source_Vector_js__WEBPACK_IMPORTED_MODULE_5__","url","format","_src_ol_format_KML_js__WEBPACK_IMPORTED_MODULE_2__","extractStyles","parseInt","value","getSource","on","event","name","feature","get","magnitude","parseFloat","substr","set","raster","_src_ol_source_Stamen_js__WEBPACK_IMPORTED_MODULE_4__","layer","_src_ol_Map_js__WEBPACK_IMPORTED_MODULE_0__","layers","target","view","_src_ol_View_js__WEBPACK_IMPORTED_MODULE_1__","center","zoom","addEventListener","setBlur","setRadius"],"mappings":"sJAOA,MAAAA,EAAAC,SAAAC,eAAA,QACAC,EAAAF,SAAAC,eAAA,UAEAE,EAAA,IAAAC,EAAA,GACAC,OAAA,IAAAC,EAAA,GACAC,IAAA,qCACAC,OAAA,IAAAC,EAAA,GACAC,eAAA,MAGAX,KAAAY,SAAAZ,EAAAa,MAAA,IACAV,OAAAS,SAAAT,EAAAU,MAAA,MAGAT,EAAAU,YAAAC,GAAA,sBAAAC,GAIA,MAAAC,EAAAD,EAAAE,QAAAC,IAAA,QACAC,EAAAC,WAAAJ,EAAAK,OAAA,IACAN,EAAAE,QAAAK,IAAA,SAAAH,EAAA,KAGA,MAAAI,EAAA,IAAAnB,EAAA,GACAC,OAAA,IAAAmB,EAAA,GACAC,MAAA,YAIA,IAAAC,EAAA,GACAC,QAAAJ,EAAApB,GACAyB,OAAA,MACAC,KAAA,IAAAC,EAAA,GACAC,QAAA,KACAC,KAAA,MAKAjC,EAAAkC,iBAAA,mBACA9B,EAAA+B,QAAAvB,SAAAZ,EAAAa,MAAA,OAGAV,EAAA+B,iBAAA,mBACA9B,EAAAgC,UAAAxB,SAAAT,EAAAU,MAAA","file":"heatmap-earthquakes.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport KML from '../src/ol/format/KML.js';\nimport {Heatmap as HeatmapLayer, Tile as TileLayer} from '../src/ol/layer.js';\nimport Stamen from '../src/ol/source/Stamen.js';\nimport VectorSource from '../src/ol/source/Vector.js';\n\nconst blur = document.getElementById('blur');\nconst radius = document.getElementById('radius');\n\nconst vector = new HeatmapLayer({\n  source: new VectorSource({\n    url: 'data/kml/2012_Earthquakes_Mag5.kml',\n    format: new KML({\n      extractStyles: false\n    })\n  }),\n  blur: parseInt(blur.value, 10),\n  radius: parseInt(radius.value, 10)\n});\n\nvector.getSource().on('addfeature', function(event) {\n  // 2012_Earthquakes_Mag5.kml stores the magnitude of each earthquake in a\n  // standards-violating <magnitude> tag in each Placemark.  We extract it from\n  // the Placemark's name instead.\n  const name = event.feature.get('name');\n  const magnitude = parseFloat(name.substr(2));\n  event.feature.set('weight', magnitude - 5);\n});\n\nconst raster = new TileLayer({\n  source: new Stamen({\n    layer: 'toner'\n  })\n});\n\nconst map = new Map({\n  layers: [raster, vector],\n  target: 'map',\n  view: new View({\n    center: [0, 0],\n    zoom: 2\n  })\n});\n\n\nblur.addEventListener('input', function() {\n  vector.setBlur(parseInt(blur.value, 10));\n});\n\nradius.addEventListener('input', function() {\n  vector.setRadius(parseInt(radius.value, 10));\n});\n"],"sourceRoot":""}