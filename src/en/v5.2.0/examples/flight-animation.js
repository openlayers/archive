(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{263:function(e,t,n){"use strict";n.r(t);var a=n(20),r=n(1),o=n(0),i=n(30),s=n(3),f=n(18),h=n(71),g=n(13),w=n(70),c=n(73),d=new r.a({layers:[new s.a({source:new h.a({layer:"toner"})})],target:"map",view:new o.a({center:[0,0],zoom:2})}),l=new w.c({stroke:new c.a({color:"#EAE911",width:2})}),u=new g.b({wrapX:!1,attributions:'Flight data by <a href="http://openflights.org/data.html">OpenFlights</a>,',loader:function(){fetch("data/openflights/flights.json").then(function(e){return e.json()}).then(function(e){for(var t=e.flights,n=0;n<t.length;n++){var r=t[n],o=r[0],s=r[1],f=new arc.GreatCircle({x:o[1],y:o[0]},{x:s[1],y:s[0]}).Arc(100,{offset:10});if(1===f.geometries.length){var h=new i.a(f.geometries[0].coords);h.transform("EPSG:4326","EPSG:3857"),addLater(new a.a({geometry:h,finished:!1}),50*n)}}d.on("postcompose",animateFlights)})}}),m=new f.a({source:u,style:function(e){return e.get("finished")?l:null}});d.addLayer(m);var p=.1;function animateFlights(e){var t=e.vectorContext,n=e.frameState;t.setStyle(l);for(var a=u.getFeatures(),r=0;r<a.length;r++){var o=a[r];if(!o.get("finished")){var s=o.getGeometry().getCoordinates(),f=(n.time-o.get("start"))*p;f>=s.length&&o.set("finished",!0);var h=Math.min(f,s.length),g=new i.a(s.slice(0,h));t.drawGeometry(g)}}d.render()}function addLater(e,t){window.setTimeout(function(){e.set("start",(new Date).getTime()),u.addFeature(e)},t)}}},[[263,0]]]);
//# sourceMappingURL=flight-animation.js.map