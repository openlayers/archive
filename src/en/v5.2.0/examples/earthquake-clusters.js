(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{256:function(e,t,a){"use strict";a.r(t);var r,n=a(1),o=a(0),i=a(6),c=a(105),s=a(47),u=a(98),l=a(18),w=a(3),g=a(227),f=a(13),d=a(71),h=a(74),m=a(73),b=a(70),y=a(120),p=a(218),k=a(86),v=new h.a({color:"rgba(255, 153, 0, 0.8)"}),j=new m.a({color:"rgba(255, 204, 0, 0.2)",width:1}),x=new h.a({color:"#fff"}),E=new m.a({color:"rgba(0, 0, 0, 0.6)",width:3}),S=new h.a({color:"rgba(255, 255, 255, 0.01)"});function createEarthquakeStyle(e){var t=e.get("name"),a=5+20*(parseFloat(t.substr(2))-5);return new b.c({geometry:e.getGeometry(),image:new y.a({radius1:a,radius2:3,points:5,angle:Math.PI,fill:v,stroke:j})})}var q,O=null,M=function(e){r=0;for(var t,a,n=O.getSource().getFeatures(),o=n.length-1;o>=0;--o){var c,s=(t=n[o]).get("features"),u=Object(i.j)(),l=void 0;for(l=0,c=s.length;l<c;++l)Object(i.q)(u,s[l].getGeometry().getExtent());r=Math.max(r,c),a=.25*(Object(i.E)(u)+Object(i.A)(u))/e,t.set("radius",a)}};O=new l.a({source:new g.a({distance:40,source:new f.b({url:"data/kml/2012_Earthquakes_Mag5.kml",format:new c.a({extractStyles:!1})})}),style:function(e,t){t!=q&&(M(t),q=t);var a=e.get("features").length;return a>1?new b.c({image:new p.a({radius:e.get("radius"),fill:new h.a({color:[255,153,0,Math.min(.8,.4+a/r)]})}),text:new k.a({text:a.toString(),fill:x,stroke:E})}):createEarthquakeStyle(e.get("features")[0])}});var F=new w.a({source:new d.a({layer:"toner"})});new n.a({layers:[F,O],interactions:Object(s.a)().extend([new u.a({condition:function(e){return"pointermove"==e.type||"singleclick"==e.type},style:function(e){for(var t,a=[new b.c({image:new p.a({radius:e.get("radius"),fill:S})})],r=e.get("features"),n=r.length-1;n>=0;--n)t=r[n],a.push(createEarthquakeStyle(t));return a}})]),target:"map",view:new o.a({center:[0,0],zoom:2})})}},[[256,0]]]);
//# sourceMappingURL=earthquake-clusters.js.map