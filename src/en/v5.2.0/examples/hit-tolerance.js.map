{"version":3,"sources":["webpack:///./hit-tolerance.js"],"names":["hitTolerance","raster","_src_ol_layer_js__WEBPACK_IMPORTED_MODULE_2__","source","_src_ol_source_js__WEBPACK_IMPORTED_MODULE_4__","style","_src_ol_style_js__WEBPACK_IMPORTED_MODULE_8__","stroke","_src_ol_style_js__WEBPACK_IMPORTED_MODULE_9__","color","width","feature","_src_ol_Feature_js__WEBPACK_IMPORTED_MODULE_6__","_src_ol_geom_LineString_js__WEBPACK_IMPORTED_MODULE_7__","vector","_src_ol_layer_js__WEBPACK_IMPORTED_MODULE_3__","_src_ol_source_js__WEBPACK_IMPORTED_MODULE_5__","features","map","_src_ol_Map_js__WEBPACK_IMPORTED_MODULE_0__","layers","target","view","_src_ol_View_js__WEBPACK_IMPORTED_MODULE_1__","center","zoom","statusElement","document","getElementById","on","e","let","hit","forEachFeatureAtPixel","pixel","getStroke","setColor","innerHTML","changed","const","selectHitToleranceElement","circleCanvas","changeHitTolerance","size","parseInt","value","height","ctx","getContext","clearRect","beginPath","arc","Math","PI","fill","onchange"],"mappings":"sGAqCIA,8EA7BEC,EAAS,IAAIC,EAAA,GACjBC,OAAQ,IAAIC,EAAA,IAGRC,EAAQ,IAAIC,EAAA,GAChBC,OAAQ,IAAIC,EAAA,GACVC,MAAO,QACPC,MAAO,MAILC,EAAU,IAAIC,EAAA,EAAQ,IAAIC,EAAA,KAAc,IAAS,IAAK,IAAS,MAE/DC,EAAS,IAAIC,EAAA,GACjBZ,OAAQ,IAAIa,EAAA,GACVC,UAAWN,KAEbN,MAAOA,IAGHa,EAAM,IAAIC,EAAA,GACdC,QAASnB,EAAQa,GACjBO,OAAQ,MACRC,KAAM,IAAIC,EAAA,GACRC,QAAS,EAAG,GACZC,KAAM,MAMJC,EAAgBC,SAASC,eAAe,UAE9CV,EAAIW,GAAG,cAAe,SAASC,GAC7BC,IAAIC,GAAM,EACVd,EAAIe,sBAAsBH,EAAEI,MAAO,WACjCF,GAAM,IAENhC,aAAcA,IAEZgC,GACF3B,EAAM8B,YAAYC,SAAS,SAC3BV,EAAcW,UAAY,6BAE1BhC,EAAM8B,YAAYC,SAAS,SAC3BV,EAAcW,UAAY,6BAE5B1B,EAAQ2B,YAGVC,IAAMC,EAA4Bb,SAASC,eAAe,gBACpDa,EAAed,SAASC,eAAe,UAEvCc,EAAqB,WAGzBH,IAAMI,EAAO,GAFb3C,EAAe4C,SAASJ,EAA0BK,MAAO,KAEzB,EAChCJ,EAAa/B,MAAQiC,EACrBF,EAAaK,OAASH,EACtBJ,IAAMQ,EAAMN,EAAaO,WAAW,MACpCD,EAAIE,UAAU,EAAG,EAAGN,EAAMA,GAC1BI,EAAIG,YACJH,EAAII,IAAInD,EAAe,EAAGA,EAAe,EAAGA,EAAe,GAAK,EAAG,EAAIoD,KAAKC,IAC5EN,EAAIO,OACJP,EAAIxC,UAGNiC,EAA0Be,SAAWb,EACrCA","file":"hit-tolerance.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport {Tile as TileLayer, Vector as VectorLayer} from '../src/ol/layer.js';\nimport {OSM, Vector as VectorSource} from '../src/ol/source.js';\nimport Feature from '../src/ol/Feature.js';\nimport LineString from '../src/ol/geom/LineString.js';\nimport {Stroke, Style} from '../src/ol/style.js';\n\nconst raster = new TileLayer({\n  source: new OSM()\n});\n\nconst style = new Style({\n  stroke: new Stroke({\n    color: 'black',\n    width: 1\n  })\n});\n\nconst feature = new Feature(new LineString([[-4000000, 0], [4000000, 0]]));\n\nconst vector = new VectorLayer({\n  source: new VectorSource({\n    features: [feature]\n  }),\n  style: style\n});\n\nconst map = new Map({\n  layers: [raster, vector],\n  target: 'map',\n  view: new View({\n    center: [0, 0],\n    zoom: 2\n  })\n});\n\nlet hitTolerance;\n\nconst statusElement = document.getElementById('status');\n\nmap.on('singleclick', function(e) {\n  let hit = false;\n  map.forEachFeatureAtPixel(e.pixel, function() {\n    hit = true;\n  }, {\n    hitTolerance: hitTolerance\n  });\n  if (hit) {\n    style.getStroke().setColor('green');\n    statusElement.innerHTML = '&nbsp;A feature got hit!';\n  } else {\n    style.getStroke().setColor('black');\n    statusElement.innerHTML = '&nbsp;No feature got hit.';\n  }\n  feature.changed();\n});\n\nconst selectHitToleranceElement = document.getElementById('hitTolerance');\nconst circleCanvas = document.getElementById('circle');\n\nconst changeHitTolerance = function() {\n  hitTolerance = parseInt(selectHitToleranceElement.value, 10);\n\n  const size = 2 * hitTolerance + 2;\n  circleCanvas.width = size;\n  circleCanvas.height = size;\n  const ctx = circleCanvas.getContext('2d');\n  ctx.clearRect(0, 0, size, size);\n  ctx.beginPath();\n  ctx.arc(hitTolerance + 1, hitTolerance + 1, hitTolerance + 0.5, 0, 2 * Math.PI);\n  ctx.fill();\n  ctx.stroke();\n};\n\nselectHitToleranceElement.onchange = changeHitTolerance;\nchangeHitTolerance();\n"],"sourceRoot":""}