(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{360:function(e,t,n){"use strict";n.r(t);var o=n(1),l=n(0),i=n(21),s=n(18),a=n(3),m=n(13),d=n(4),u=n(86),r=n(74),g=n(73),c=n(70),y=n(218),p=!1,f={points:{text:document.getElementById("points-text"),align:document.getElementById("points-align"),baseline:document.getElementById("points-baseline"),rotation:document.getElementById("points-rotation"),font:document.getElementById("points-font"),weight:document.getElementById("points-weight"),size:document.getElementById("points-size"),offsetX:document.getElementById("points-offset-x"),offsetY:document.getElementById("points-offset-y"),color:document.getElementById("points-color"),outline:document.getElementById("points-outline"),outlineWidth:document.getElementById("points-outline-width"),maxreso:document.getElementById("points-maxreso")},lines:{text:document.getElementById("lines-text"),align:document.getElementById("lines-align"),baseline:document.getElementById("lines-baseline"),rotation:document.getElementById("lines-rotation"),font:document.getElementById("lines-font"),weight:document.getElementById("lines-weight"),placement:document.getElementById("lines-placement"),maxangle:document.getElementById("lines-maxangle"),overflow:document.getElementById("lines-overflow"),size:document.getElementById("lines-size"),offsetX:document.getElementById("lines-offset-x"),offsetY:document.getElementById("lines-offset-y"),color:document.getElementById("lines-color"),outline:document.getElementById("lines-outline"),outlineWidth:document.getElementById("lines-outline-width"),maxreso:document.getElementById("lines-maxreso")},polygons:{text:document.getElementById("polygons-text"),align:document.getElementById("polygons-align"),baseline:document.getElementById("polygons-baseline"),rotation:document.getElementById("polygons-rotation"),font:document.getElementById("polygons-font"),weight:document.getElementById("polygons-weight"),placement:document.getElementById("polygons-placement"),maxangle:document.getElementById("polygons-maxangle"),overflow:document.getElementById("polygons-overflow"),size:document.getElementById("polygons-size"),offsetX:document.getElementById("polygons-offset-x"),offsetY:document.getElementById("polygons-offset-y"),color:document.getElementById("polygons-color"),outline:document.getElementById("polygons-outline"),outlineWidth:document.getElementById("polygons-outline-width"),maxreso:document.getElementById("polygons-maxreso")}},w=function(e,t,n){var o=n.text.value,l=n.maxreso.value,i=e.get("name");return t>l?i="":"hide"==o?i="":"shorten"==o?i=i.trunc(12):"wrap"!=o||n.placement&&"line"==n.placement.value||(i=function stringDivider(e,t,n){if(e.length>t){for(var o=t;o>0&&" "!=e[o]&&"-"!=e[o];)o--;if(o>0){var l;l="-"==e.substring(o,o+1)?e.substring(0,o+1):e.substring(0,o);var i=e.substring(o+1);return l+n+stringDivider(i,t,n)}}return e}(i,16,"\n")),i},E=function(e,t,n){var o=n.align.value,l=n.baseline.value,i=n.size.value,s=parseInt(n.offsetX.value,10),a=parseInt(n.offsetY.value,10),m=n.weight.value,d=n.placement?n.placement.value:void 0,c=n.maxangle?parseFloat(n.maxangle.value):void 0,y=n.overflow?"true"==n.overflow.value:void 0,f=parseFloat(n.rotation.value);if("'Open Sans'"==n.font.value&&!p){var E=document.createElement("link");E.href="https://fonts.googleapis.com/css?family=Open+Sans",E.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(E),p=!0}var I=m+" "+i+" "+n.font.value,B=n.color.value,v=n.outline.value,h=parseInt(n.outlineWidth.value,10);return new u.a({textAlign:""==o?void 0:o,textBaseline:l,font:I,text:w(e,t,n),fill:new r.a({color:B}),stroke:new g.a({color:v,width:h}),offsetX:s,offsetY:a,placement:d,maxAngle:c,overflow:y,rotation:f})};function polygonStyleFunction(e,t){return new c.c({stroke:new g.a({color:"blue",width:1}),fill:new r.a({color:"rgba(0, 0, 255, 0.1)"}),text:E(e,t,f.polygons)})}var I=new s.a({source:new m.b({url:"data/geojson/polygon-samples.geojson",format:new i.a}),style:polygonStyleFunction});function lineStyleFunction(e,t){return new c.c({stroke:new g.a({color:"green",width:2}),text:E(e,t,f.lines)})}var B=new s.a({source:new m.b({url:"data/geojson/line-samples.geojson",format:new i.a}),style:lineStyleFunction});function pointStyleFunction(e,t){return new c.c({image:new y.a({radius:10,fill:new r.a({color:"rgba(255, 0, 0, 0.1)"}),stroke:new g.a({color:"red",width:1})}),text:E(e,t,f.points)})}var v=new s.a({source:new m.b({url:"data/geojson/point-samples.geojson",format:new i.a}),style:pointStyleFunction});new o.a({layers:[new a.a({source:new d.b}),I,B,v],target:"map",view:new l.a({center:[-8161939,6095025],zoom:8})});document.getElementById("refresh-points").addEventListener("click",function(){v.setStyle(pointStyleFunction)}),document.getElementById("refresh-lines").addEventListener("click",function(){B.setStyle(lineStyleFunction)}),document.getElementById("refresh-polygons").addEventListener("click",function(){I.setStyle(polygonStyleFunction)}),String.prototype.trunc=String.prototype.trunc||function(e){return this.length>e?this.substr(0,e-1)+"...":this.substr(0)}}},[[360,0]]]);
//# sourceMappingURL=vector-labels.js.map