(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{401:function(e,t,r){"use strict";r.r(t);var a=r(14),n=r(183),o=r(114),u=r(12),s=r(5),i=function(e){function WMSGetFeatureInfo(t){e.call(this);var r=t||{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new n.a,this.layers_=r.layers?r.layers:null}return e&&(WMSGetFeatureInfo.__proto__=e),WMSGetFeatureInfo.prototype=Object.create(e&&e.prototype),WMSGetFeatureInfo.prototype.constructor=WMSGetFeatureInfo,WMSGetFeatureInfo.prototype.getLayers=function(){return this.layers_},WMSGetFeatureInfo.prototype.setLayers=function(e){this.layers_=e},WMSGetFeatureInfo.prototype.readFeatures_=function(e,t){e.setAttribute("namespaceURI",this.featureNS_);var r=e.localName,n=[];if(0===e.childNodes.length)return n;if("msGMLOutput"==r)for(var o=0,u=e.childNodes.length;o<u;o++){var i=e.childNodes[o];if(i.nodeType===Node.ELEMENT_NODE){var l=t[0],c=i.localName.replace("_layer","");if(!this.layers_||Object(a.f)(this.layers_,c)){var f=c+"_feature";l.featureType=f,l.featureNS=this.featureNS_;var h={};h[f]=Object(s.j)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var m=Object(s.r)([l.featureNS,null],h);i.setAttribute("namespaceURI",this.featureNS_);var p=Object(s.u)([],m,i,t,this.gmlFormat_);p&&Object(a.c)(n,p)}}}if("FeatureCollection"==r){var d=Object(s.u)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);d&&(n=d)}return n},WMSGetFeatureInfo.prototype.readFeaturesFromNode=function(e,t){var r={};return t&&Object(u.a)(r,this.getReadOptions(e,t)),this.readFeatures_(e,[r])},WMSGetFeatureInfo}(o.a);fetch("data/wmsgetfeatureinfo/osm-restaurant-hotel.xml").then(function(e){return e.text()}).then(function(e){var t=(new i).readFeatures(e);document.getElementById("all").innerText=t.length.toString();var r=new i({layers:["hotel"]}).readFeatures(e);document.getElementById("hotel").innerText=r.length.toString();var a=new i({layers:["restaurant"]}).readFeatures(e);document.getElementById("restaurant").innerText=a.length.toString()})}},[[401,0]]]);
//# sourceMappingURL=getfeatureinfo-layers.js.map