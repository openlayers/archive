(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{305:function(e,t,n){"use strict";n.r(t);var o,a,i,r,c,s=n(1),d=n(137),l=n(93),u=n(149),w=n(0),f=n(34),g=n(30),m=n(67),p=n(3),v=n(18),h=n(4),b=n(13),y=n(70),k=n(74),M=n(73),C=n(218),I=new p.a({source:new h.b}),L=new b.b,O=new v.a({source:L,style:new y.c({fill:new k.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new M.a({color:"#ffcc33",width:2}),image:new C.a({radius:7,fill:new k.a({color:"#ffcc33"})})})}),N=new s.a({layers:[I,O],target:"map",view:new w.a({center:[-11e6,46e5],zoom:15})});N.on("pointermove",function(e){if(!e.dragging){var t="Click to start drawing";if(o){var n=o.getGeometry();n instanceof f.b?t="Click to continue drawing the polygon":n instanceof g.a&&(t="Click to continue drawing the line")}a.innerHTML=t,i.setPosition(e.coordinate),a.classList.remove("hidden")}}),N.getViewport().addEventListener("mouseout",function(){a.classList.add("hidden")});var T,E=document.getElementById("type"),P=function(e){var t=Object(u.c)(e);return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"},j=function(e){var t=Object(u.a)(e);return t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"};function addInteraction(){var e,t="area"==E.value?"Polygon":"LineString";T=new m.c({source:L,type:t,style:new y.c({fill:new k.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new M.a({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new C.a({radius:5,stroke:new M.a({color:"rgba(0, 0, 0, 0.7)"}),fill:new k.a({color:"rgba(255, 255, 255, 0.2)"})})})}),N.addInteraction(T),createMeasureTooltip(),function(){a&&a.parentNode.removeChild(a);(a=document.createElement("div")).className="tooltip hidden",i=new l.a({element:a,offset:[15,0],positioning:"center-left"}),N.addOverlay(i)}(),T.on("drawstart",function(t){o=t.feature;var n=t.coordinate;e=o.getGeometry().on("change",function(e){var t,o=e.target;o instanceof f.b?(t=j(o),n=o.getInteriorPoint().getCoordinates()):o instanceof g.a&&(t=P(o),n=o.getLastCoordinate()),r.innerHTML=t,c.setPosition(n)})},this),T.on("drawend",function(){r.className="tooltip tooltip-static",c.setOffset([0,-7]),o=null,r=null,createMeasureTooltip(),Object(d.b)(e)},this)}function createMeasureTooltip(){r&&r.parentNode.removeChild(r),(r=document.createElement("div")).className="tooltip tooltip-measure",c=new l.a({element:r,offset:[0,-15],positioning:"bottom-center"}),N.addOverlay(c)}E.onchange=function(){N.removeInteraction(T),addInteraction()},addInteraction()}},[[305,0]]]);
//# sourceMappingURL=measure.js.map