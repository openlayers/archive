{"version":3,"sources":["webpack:///../src/ol/format/WMSCapabilities.js","webpack:///./wms-capabilities.js"],"names":["WMSCapabilities","XML","call","this","version","undefined","Object","util","const","NAMESPACE_URIS","PARSERS","xml","Service","node","objectStack","SERVICE_PARSERS","Capability","CAPABILITY_PARSERS","Request","REQUEST_PARSERS","Exception","EXCEPTION_PARSERS","Layer","LAYER_PARSERS","Name","xsd","Title","Abstract","KeywordList","readKeywordList","OnlineResource","XLink","ContactInformation","CONTACT_INFORMATION_PARSERS","Fees","AccessConstraints","LayerLimit","MaxWidth","MaxHeight","ContactPersonPrimary","CONTACT_PERSON_PARSERS","ContactPosition","ContactAddress","CONTACT_ADDRESS_PARSERS","ContactVoiceTelephone","ContactFacsimileTelephone","ContactElectronicMailAddress","ContactPerson","ContactOrganization","AddressType","Address","City","StateOrProvince","PostCode","Country","Format","CRS","EX_GeographicBoundingBox","geographicBoundingBox","EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS","westBoundLongitude","southBoundLatitude","eastBoundLongitude","northBoundLatitude","BoundingBox","extent","getAttribute","resolutions","crs","res","Dimension","name","units","unitSymbol","default","multipleValues","nearestValue","current","values","Attribution","ATTRIBUTION_PARSERS","AuthorityURL","authorityObject","readFormatOnlineresource","Identifier","MetadataURL","metadataObject","DataURL","FeatureListURL","Style","STYLE_PARSERS","MinScaleDenominator","MaxScaleDenominator","parentLayerObject","length","layerObject","let","queryable","cascaded","opaque","noSubsets","fixedWidth","fixedHeight","forEach","key","childValue","concat","parentValue","LogoURL","readSizedFormatOnlineresource","GetCapabilities","readOperationType","GetMap","GetFeatureInfo","OPERATIONTYPE_PARSERS","DCPType","DCPTYPE_PARSERS","HTTP","HTTP_PARSERS","Get","Post","LegendURL","StyleSheetURL","StyleURL","FORMAT_ONLINERESOURCE_PARSERS","KEYWORDLIST_PARSERS","Keyword","formatOnlineresource","size","prototype","read","readFromDocument","doc","n","firstChild","nextSibling","nodeType","Node","ELEMENT_NODE","readFromNode","trim","wmsCapabilityObject","parser","fetch","then","response","text","result","document","getElementById","innerText","JSON","stringify"],"mappings":"6IAmBMA,EAAkB,WAEtBC,EAAA,EAAIC,KAAKC,MAKTA,KAAKC,aAAUC,GAGjBC,OAAAC,EAAA,EAAAD,CAASN,EAAiBC,EAAA,GAO1BO,IAAMC,GACJ,KACA,8BAQIC,EAAUJ,OAAAK,EAAA,EAAAL,CACdG,GACEG,QAAWN,OAAAK,EAAA,EAAAL,CAmVf,SAAqBO,EAAMC,GACzB,OAAOR,OAAAK,EAAA,EAAAL,IAAoBS,EAAiBF,EAAMC,KAnVhDE,WAAcV,OAAAK,EAAA,EAAAL,CAwUlB,SAAwBO,EAAMC,GAC5B,OAAOR,OAAAK,EAAA,EAAAL,IAAoBW,EAAoBJ,EAAMC,OAjUjDG,EAAqBX,OAAAK,EAAA,EAAAL,CACzBG,GACES,QAAWZ,OAAAK,EAAA,EAAAL,CA0ef,SAAqBO,EAAMC,GACzB,OAAOR,OAAAK,EAAA,EAAAL,IAAoBa,EAAiBN,EAAMC,KA1ehDM,UAAad,OAAAK,EAAA,EAAAL,CA+WjB,SAAuBO,EAAMC,GAC3B,OAAOR,OAAAK,EAAA,EAAAL,IAAoBe,EAAmBR,EAAMC,KA/WlDQ,MAAShB,OAAAK,EAAA,EAAAL,CAwXb,SAA6BO,EAAMC,GACjC,OAAOR,OAAAK,EAAA,EAAAL,IAAoBiB,EAAeV,EAAMC,OAjX5CC,EAAkBT,OAAAK,EAAA,EAAAL,CACtBG,GACEe,KAAQlB,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACjCC,MAASpB,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAClCE,SAAYrB,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACrCG,YAAetB,OAAAK,EAAA,EAAAL,CAAyBuB,GACxCC,eAAkBxB,OAAAK,EAAA,EAAAL,CAAyByB,EAAA,GAC3CC,mBAAsB1B,OAAAK,EAAA,EAAAL,CAiU1B,SAAgCO,EAAMC,GACpC,OAAOR,OAAAK,EAAA,EAAAL,IAAoB2B,EAA6BpB,EAAMC,KAjU5DoB,KAAQ5B,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACjCU,kBAAqB7B,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAC9CW,WAAc9B,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACvCY,SAAY/B,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACrCa,UAAahC,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,KAQpCQ,EAA8B3B,OAAAK,EAAA,EAAAL,CAClCG,GACE8B,qBAAwBjC,OAAAK,EAAA,EAAAL,CA4T5B,SAAkCO,EAAMC,GACtC,OAAOR,OAAAK,EAAA,EAAAL,IAAoBkC,EAAwB3B,EAAMC,KA5TvD2B,gBAAmBnC,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAC5CiB,eAAkBpC,OAAAK,EAAA,EAAAL,CAoUtB,SAA4BO,EAAMC,GAChC,OAAOR,OAAAK,EAAA,EAAAL,IAAoBqC,EAAyB9B,EAAMC,KApUxD8B,sBAAyBtC,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAClDoB,0BAA6BvC,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACtDqB,6BAAgCxC,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,KAQvDe,EAAyBlC,OAAAK,EAAA,EAAAL,CAC7BG,GACEsC,cAAiBzC,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAC1CuB,oBAAuB1C,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,KAQ9CkB,EAA0BrC,OAAAK,EAAA,EAAAL,CAC9BG,GACEwC,YAAe3C,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACxCyB,QAAW5C,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACpC0B,KAAQ7C,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACjC2B,gBAAmB9C,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAC5C4B,SAAY/C,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACrC6B,QAAWhD,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,KAQlCJ,EAAoBf,OAAAK,EAAA,EAAAL,CACxBG,GACE8C,OAAUjD,OAAAK,EAAA,EAAAL,CAAgBmB,EAAA,KAQxBF,EAAgBjB,OAAAK,EAAA,EAAAL,CACpBG,GACEe,KAAQlB,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACjCC,MAASpB,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAClCE,SAAYrB,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACrCG,YAAetB,OAAAK,EAAA,EAAAL,CAAyBuB,GACxC2B,IAAOlD,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAChCgC,yBAA4BnD,OAAAK,EAAA,EAAAL,CAsMhC,SAAqCO,EAAMC,GACzCN,IAAMkD,EAAwBpD,OAAAK,EAAA,EAAAL,IAE5BqD,EACA9C,EAAMC,GACR,IAAK4C,EACH,OAEFlD,IAAMoD,EACCF,EAA2C,mBAC5CG,EACCH,EAA2C,mBAC5CI,EACCJ,EAA2C,mBAC5CK,EACCL,EAA2C,mBAClD,QAA2BrD,IAAvBuD,QAA2DvD,IAAvBwD,QACXxD,IAAvByD,QAA2DzD,IAAvB0D,EACxC,OAEF,OACEH,EAAoBC,EACpBC,EAAoBC,KA3NpBC,YAAe1D,OAAAK,EAAA,EAAAL,CA2KnB,SAAyBO,EAAMC,GAC7BN,IAAMyD,GACJ3D,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,SACpC5D,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,SACpC5D,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,SACpC5D,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,UAGhCC,GACJ7D,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,SACpC5D,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,UAGtC,OACEE,IAAOvD,EAAKqD,aAAa,OACzBD,OAAUA,EACVI,IAAOF,KA1LPG,UAAahE,OAAAK,EAAA,EAAAL,CAkXjB,SAAuBO,EAAMC,GAW3B,OATEyD,KAAQ1D,EAAKqD,aAAa,QAC1BM,MAAS3D,EAAKqD,aAAa,SAC3BO,WAAc5D,EAAKqD,aAAa,cAChCQ,QAAW7D,EAAKqD,aAAa,WAC7BS,eAAkBrE,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,mBACtDU,aAAgBtE,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,iBACpDW,QAAWvE,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,YAC/CY,OAAUxE,OAAAmB,EAAA,EAAAnB,CAAWO,MA1XrBkE,YAAezE,OAAAK,EAAA,EAAAL,CA+JnB,SAAyBO,EAAMC,GAC7B,OAAOR,OAAAK,EAAA,EAAAL,IAAoB0E,EAAqBnE,EAAMC,KA/JpDmE,aAAgB3E,OAAAK,EAAA,EAAAL,CAycpB,SAA0BO,EAAMC,GAC9BN,IAAM0E,EAAkBC,EAAyBtE,EAAMC,GACvD,GAAIoE,EAEF,OADAA,EAAsB,KAAIrE,EAAKqD,aAAa,QACrCgB,EAET,SA9cEE,WAAc9E,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACvC4D,YAAe/E,OAAAK,EAAA,EAAAL,CAsdnB,SAAyBO,EAAMC,GAC7BN,IAAM8E,EAAiBH,EAAyBtE,EAAMC,GACtD,GAAIwE,EAEF,OADAA,EAAqB,KAAIzE,EAAKqD,aAAa,QACpCoB,EAET,SA3dEC,QAAWjF,OAAAK,EAAA,EAAAL,CAAyB6E,GACpCK,eAAkBlF,OAAAK,EAAA,EAAAL,CAAyB6E,GAC3CM,MAASnF,OAAAK,EAAA,EAAAL,CAkeb,SAAmBO,EAAMC,GACvB,OAAOR,OAAAK,EAAA,EAAAL,IAAoBoF,EAAe7E,EAAMC,KAle9C6E,oBAAuBrF,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAChDmE,oBAAuBtF,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAChDH,MAAShB,OAAAK,EAAA,EAAAL,CAgSb,SAAmBO,EAAMC,GACvBN,IAAMqF,EAAwD/E,EAAYA,EAAYgF,OAAS,GAEzFC,EAAczF,OAAAK,EAAA,EAAAL,IAAoBiB,EAAeV,EAAMC,GAE7D,IAAKiF,EACH,OAEFC,IAAIC,EAAY3F,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,mBAClC7D,IAAd4F,IACFA,EAAYJ,EAA6B,WAE3CE,EAAuB,eAAkB1F,IAAd4F,GAA0BA,EAErDD,IAAIE,EAAW5F,OAAAmB,EAAA,EAAAnB,CACbO,EAAKqD,aAAa,kBACH7D,IAAb6F,IACFA,EAAWL,EAA4B,UAEzCE,EAAsB,SAAIG,EAE1BF,IAAIG,EAAS7F,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,gBAClC7D,IAAX8F,IACFA,EAASN,EAA0B,QAErCE,EAAoB,YAAe1F,IAAX8F,GAAuBA,EAE/CH,IAAII,EAAY9F,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,mBAClC7D,IAAd+F,IACFA,EAAYP,EAA6B,WAE3CE,EAAuB,eAAkB1F,IAAd+F,GAA0BA,EAErDJ,IAAIK,EAAa/F,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,eAChDmC,IACHA,EAAaR,EAA8B,YAE7CE,EAAwB,WAAIM,EAE5BL,IAAIM,EAAchG,OAAAmB,EAAA,EAAAnB,CAAkBO,EAAKqD,aAAa,gBACjDoC,IACHA,EAAcT,EAA+B,aAE/CE,EAAyB,YAAIO,GAGZ,QAAS,MAAO,gBACzBC,QAAQ,SAASC,GACvB,GAAIA,KAAOX,EAAmB,CAC5BrF,IAAMiG,EAAaV,EAAYS,OAC/BT,EAAYS,GAAOC,EAAWC,OAAOb,EAAkBW,OAa3D,OATqB,2BAA4B,cAAe,YAC9D,cAAe,sBAAuB,uBAC5BD,QAAQ,SAASC,GAC3B,KAAMA,KAAOT,GAAc,CACzBvF,IAAMmG,EAAcd,EAAkBW,GACtCT,EAAYS,GAAOG,KAIhBZ,MAvVHf,EAAsB1E,OAAAK,EAAA,EAAAL,CAC1BG,GACEiB,MAASpB,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAClCK,eAAkBxB,OAAAK,EAAA,EAAAL,CAAyByB,EAAA,GAC3C6E,QAAWtG,OAAAK,EAAA,EAAAL,CAAyBuG,KAQlClD,EACFrD,OAAAK,EAAA,EAAAL,CAAgBG,GACdmD,mBAAsBtD,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAC/CqC,mBAAsBxD,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAC/CoC,mBAAsBvD,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAC/CsC,mBAAsBzD,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,KAQ/CN,EAAkBb,OAAAK,EAAA,EAAAL,CACtBG,GACEqG,gBAAmBxG,OAAAK,EAAA,EAAAL,CAAyByG,GAC5CC,OAAU1G,OAAAK,EAAA,EAAAL,CAAyByG,GACnCE,eAAkB3G,OAAAK,EAAA,EAAAL,CAAyByG,KAQzCG,EAAwB5G,OAAAK,EAAA,EAAAL,CAC5BG,GACE8C,OAAUjD,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACnC0F,QAAW7G,OAAAK,EAAA,EAAAL,CAgWf,SAAqBO,EAAMC,GACzB,OAAOR,OAAAK,EAAA,EAAAL,IAAoB8G,EAAiBvG,EAAMC,OAzV9CsG,EAAkB9G,OAAAK,EAAA,EAAAL,CACtBG,GACE4G,KAAQ/G,OAAAK,EAAA,EAAAL,CAgWZ,SAAkBO,EAAMC,GACtB,OAAOR,OAAAK,EAAA,EAAAL,IAAoBgH,EAAczG,EAAMC,OAzV3CwG,EAAehH,OAAAK,EAAA,EAAAL,CACnBG,GACE8G,IAAOjH,OAAAK,EAAA,EAAAL,CAAyB6E,GAChCqC,KAAQlH,OAAAK,EAAA,EAAAL,CAAyB6E,KAQ/BO,EAAgBpF,OAAAK,EAAA,EAAAL,CACpBG,GACEe,KAAQlB,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACjCC,MAASpB,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GAClCE,SAAYrB,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACrCgG,UAAanH,OAAAK,EAAA,EAAAL,CAAyBuG,GACtCa,cAAiBpH,OAAAK,EAAA,EAAAL,CAAyB6E,GAC1CwC,SAAYrH,OAAAK,EAAA,EAAAL,CAAyB6E,KAQnCyC,EACFtH,OAAAK,EAAA,EAAAL,CAAgBG,GACd8C,OAAUjD,OAAAK,EAAA,EAAAL,CAAyBmB,EAAA,GACnCK,eAAkBxB,OAAAK,EAAA,EAAAL,CAAyByB,EAAA,KAQ3C8F,EAAsBvH,OAAAK,EAAA,EAAAL,CAC1BG,GACEqH,QAAWxH,OAAAK,EAAA,EAAAL,CAAgBmB,EAAA,KAmR/B,SAAS0D,EAAyBtE,EAAMC,GACtC,OAAOR,OAAAK,EAAA,EAAAL,IAAoBsH,EAA+B/G,EAAMC,GAuClE,SAASiG,EAAkBlG,EAAMC,GAC/B,OAAOR,OAAAK,EAAA,EAAAL,IAAoB4G,EAAuBrG,EAAMC,GAS1D,SAAS+F,EAA8BhG,EAAMC,GAC3CN,IAAMuH,EAAuB5C,EAAyBtE,EAAMC,GAC5D,GAAIiH,EAAsB,CACxBvH,IAAMwH,GACJ1H,OAAAmB,EAAA,EAAAnB,CAA6BO,EAAKqD,aAAa,UAC/C5D,OAAAmB,EAAA,EAAAnB,CAA6BO,EAAKqD,aAAa,YAGjD,OADA6D,EAA2B,KAAIC,EACxBD,GAmDX,SAASlG,EAAgBhB,EAAMC,GAC7B,OAAOR,OAAAK,EAAA,EAAAL,IAAoBuH,EAAqBhH,EAAMC,GArXxDd,EAAgBiI,UAAUC,KAM1BlI,EAAgBiI,UAAUE,iBAAmB,SAASC,GACpD,QAASC,EAAID,EAAIE,WAAYD,EAAGA,EAAIA,EAAEE,YACpC,GAAIF,EAAEG,UAAYC,KAAKC,aACrB,YAAYC,aAAaN,GAG7B,OAAO,MAOTrI,EAAgBiI,UAAUU,aAAe,SAAS9H,GAChDV,KAAKC,QAAUS,EAAKqD,aAAa,WAAW0E,OAC5CpI,IAAMqI,EAAsBvI,OAAAK,EAAA,EAAAL,EAC1BF,QAAWD,KAAKC,SACfM,EAASG,MACZ,OAAOgI,GAA4C,MAiWrD,IC3oBMC,EAAS,ID2oBf,ECzoBAC,MAAM,sBAAsBC,KAAK,SAASC,GACxC,OAAOA,EAASC,SACfF,KAAK,SAASE,GACf1I,IAAM2I,EAASL,EAAOZ,KAAKgB,GAC3BE,SAASC,eAAe,OAAOC,UAAYC,KAAKC,UAAUL,EAAQ,KAAM","file":"wms-capabilities.js","sourcesContent":["/**\n * @module ol/format/WMSCapabilities\n */\nimport {inherits} from '../util.js';\nimport {readHref} from '../format/XLink.js';\nimport XML from '../format/XML.js';\nimport {readDecimalString, readString, readNonNegativeInteger, readDecimal, readBooleanString, readNonNegativeIntegerString} from '../format/xsd.js';\nimport {makeArrayPusher, makeObjectPropertyPusher, makeObjectPropertySetter,\n  makeStructureNS, pushParseAndPop} from '../xml.js';\n\n\n/**\n * @classdesc\n * Format for reading WMS capabilities data\n *\n * @constructor\n * @extends {module:ol/format/XML}\n * @api\n */\nconst WMSCapabilities = function() {\n\n  XML.call(this);\n\n  /**\n   * @type {string|undefined}\n   */\n  this.version = undefined;\n};\n\ninherits(WMSCapabilities, XML);\n\n\n/**\n * @const\n * @type {Array.<null|string>}\n */\nconst NAMESPACE_URIS = [\n  null,\n  'http://www.opengis.net/wms'\n];\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Service': makeObjectPropertySetter(readService),\n    'Capability': makeObjectPropertySetter(readCapability)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst CAPABILITY_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Request': makeObjectPropertySetter(readRequest),\n    'Exception': makeObjectPropertySetter(readException),\n    'Layer': makeObjectPropertySetter(readCapabilityLayer)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst SERVICE_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'KeywordList': makeObjectPropertySetter(readKeywordList),\n    'OnlineResource': makeObjectPropertySetter(readHref),\n    'ContactInformation': makeObjectPropertySetter(readContactInformation),\n    'Fees': makeObjectPropertySetter(readString),\n    'AccessConstraints': makeObjectPropertySetter(readString),\n    'LayerLimit': makeObjectPropertySetter(readNonNegativeInteger),\n    'MaxWidth': makeObjectPropertySetter(readNonNegativeInteger),\n    'MaxHeight': makeObjectPropertySetter(readNonNegativeInteger)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst CONTACT_INFORMATION_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'ContactPersonPrimary': makeObjectPropertySetter(readContactPersonPrimary),\n    'ContactPosition': makeObjectPropertySetter(readString),\n    'ContactAddress': makeObjectPropertySetter(readContactAddress),\n    'ContactVoiceTelephone': makeObjectPropertySetter(readString),\n    'ContactFacsimileTelephone': makeObjectPropertySetter(readString),\n    'ContactElectronicMailAddress': makeObjectPropertySetter(readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst CONTACT_PERSON_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'ContactPerson': makeObjectPropertySetter(readString),\n    'ContactOrganization': makeObjectPropertySetter(readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst CONTACT_ADDRESS_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'AddressType': makeObjectPropertySetter(readString),\n    'Address': makeObjectPropertySetter(readString),\n    'City': makeObjectPropertySetter(readString),\n    'StateOrProvince': makeObjectPropertySetter(readString),\n    'PostCode': makeObjectPropertySetter(readString),\n    'Country': makeObjectPropertySetter(readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst EXCEPTION_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Format': makeArrayPusher(readString)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst LAYER_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'KeywordList': makeObjectPropertySetter(readKeywordList),\n    'CRS': makeObjectPropertyPusher(readString),\n    'EX_GeographicBoundingBox': makeObjectPropertySetter(readEXGeographicBoundingBox),\n    'BoundingBox': makeObjectPropertyPusher(readBoundingBox),\n    'Dimension': makeObjectPropertyPusher(readDimension),\n    'Attribution': makeObjectPropertySetter(readAttribution),\n    'AuthorityURL': makeObjectPropertyPusher(readAuthorityURL),\n    'Identifier': makeObjectPropertyPusher(readString),\n    'MetadataURL': makeObjectPropertyPusher(readMetadataURL),\n    'DataURL': makeObjectPropertyPusher(readFormatOnlineresource),\n    'FeatureListURL': makeObjectPropertyPusher(readFormatOnlineresource),\n    'Style': makeObjectPropertyPusher(readStyle),\n    'MinScaleDenominator': makeObjectPropertySetter(readDecimal),\n    'MaxScaleDenominator': makeObjectPropertySetter(readDecimal),\n    'Layer': makeObjectPropertyPusher(readLayer)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst ATTRIBUTION_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Title': makeObjectPropertySetter(readString),\n    'OnlineResource': makeObjectPropertySetter(readHref),\n    'LogoURL': makeObjectPropertySetter(readSizedFormatOnlineresource)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS =\n    makeStructureNS(NAMESPACE_URIS, {\n      'westBoundLongitude': makeObjectPropertySetter(readDecimal),\n      'eastBoundLongitude': makeObjectPropertySetter(readDecimal),\n      'southBoundLatitude': makeObjectPropertySetter(readDecimal),\n      'northBoundLatitude': makeObjectPropertySetter(readDecimal)\n    });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst REQUEST_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'GetCapabilities': makeObjectPropertySetter(readOperationType),\n    'GetMap': makeObjectPropertySetter(readOperationType),\n    'GetFeatureInfo': makeObjectPropertySetter(readOperationType)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst OPERATIONTYPE_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Format': makeObjectPropertyPusher(readString),\n    'DCPType': makeObjectPropertyPusher(readDCPType)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst DCPTYPE_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'HTTP': makeObjectPropertySetter(readHTTP)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst HTTP_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Get': makeObjectPropertySetter(readFormatOnlineresource),\n    'Post': makeObjectPropertySetter(readFormatOnlineresource)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst STYLE_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'LegendURL': makeObjectPropertyPusher(readSizedFormatOnlineresource),\n    'StyleSheetURL': makeObjectPropertySetter(readFormatOnlineresource),\n    'StyleURL': makeObjectPropertySetter(readFormatOnlineresource)\n  });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst FORMAT_ONLINERESOURCE_PARSERS =\n    makeStructureNS(NAMESPACE_URIS, {\n      'Format': makeObjectPropertySetter(readString),\n      'OnlineResource': makeObjectPropertySetter(readHref)\n    });\n\n\n/**\n * @const\n * @type {Object.<string, Object.<string, module:ol/xml~Parser>>}\n */\nconst KEYWORDLIST_PARSERS = makeStructureNS(\n  NAMESPACE_URIS, {\n    'Keyword': makeArrayPusher(readString)\n  });\n\n\n/**\n * Read a WMS capabilities document.\n *\n * @function\n * @param {Document|Node|string} source The XML source.\n * @return {Object} An object representing the WMS capabilities.\n * @api\n */\nWMSCapabilities.prototype.read;\n\n\n/**\n * @inheritDoc\n */\nWMSCapabilities.prototype.readFromDocument = function(doc) {\n  for (let n = doc.firstChild; n; n = n.nextSibling) {\n    if (n.nodeType == Node.ELEMENT_NODE) {\n      return this.readFromNode(n);\n    }\n  }\n  return null;\n};\n\n\n/**\n * @inheritDoc\n */\nWMSCapabilities.prototype.readFromNode = function(node) {\n  this.version = node.getAttribute('version').trim();\n  const wmsCapabilityObject = pushParseAndPop({\n    'version': this.version\n  }, PARSERS, node, []);\n  return wmsCapabilityObject ? wmsCapabilityObject : null;\n};\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Attribution object.\n */\nfunction readAttribution(node, objectStack) {\n  return pushParseAndPop({}, ATTRIBUTION_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object} Bounding box object.\n */\nfunction readBoundingBox(node, objectStack) {\n  const extent = [\n    readDecimalString(node.getAttribute('minx')),\n    readDecimalString(node.getAttribute('miny')),\n    readDecimalString(node.getAttribute('maxx')),\n    readDecimalString(node.getAttribute('maxy'))\n  ];\n\n  const resolutions = [\n    readDecimalString(node.getAttribute('resx')),\n    readDecimalString(node.getAttribute('resy'))\n  ];\n\n  return {\n    'crs': node.getAttribute('CRS'),\n    'extent': extent,\n    'res': resolutions\n  };\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {module:ol/extent~Extent|undefined} Bounding box object.\n */\nfunction readEXGeographicBoundingBox(node, objectStack) {\n  const geographicBoundingBox = pushParseAndPop(\n    {},\n    EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS,\n    node, objectStack);\n  if (!geographicBoundingBox) {\n    return undefined;\n  }\n  const westBoundLongitude = /** @type {number|undefined} */\n        (geographicBoundingBox['westBoundLongitude']);\n  const southBoundLatitude = /** @type {number|undefined} */\n        (geographicBoundingBox['southBoundLatitude']);\n  const eastBoundLongitude = /** @type {number|undefined} */\n        (geographicBoundingBox['eastBoundLongitude']);\n  const northBoundLatitude = /** @type {number|undefined} */\n        (geographicBoundingBox['northBoundLatitude']);\n  if (westBoundLongitude === undefined || southBoundLatitude === undefined ||\n        eastBoundLongitude === undefined || northBoundLatitude === undefined) {\n    return undefined;\n  }\n  return [\n    westBoundLongitude, southBoundLatitude,\n    eastBoundLongitude, northBoundLatitude\n  ];\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Capability object.\n */\nfunction readCapability(node, objectStack) {\n  return pushParseAndPop({}, CAPABILITY_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Service object.\n */\nfunction readService(node, objectStack) {\n  return pushParseAndPop({}, SERVICE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Contact information object.\n */\nfunction readContactInformation(node, objectStack) {\n  return pushParseAndPop({}, CONTACT_INFORMATION_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Contact person object.\n */\nfunction readContactPersonPrimary(node, objectStack) {\n  return pushParseAndPop({}, CONTACT_PERSON_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Contact address object.\n */\nfunction readContactAddress(node, objectStack) {\n  return pushParseAndPop({}, CONTACT_ADDRESS_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Array.<string>|undefined} Format array.\n */\nfunction readException(node, objectStack) {\n  return pushParseAndPop([], EXCEPTION_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Layer object.\n */\nfunction readCapabilityLayer(node, objectStack) {\n  return pushParseAndPop({}, LAYER_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Layer object.\n */\nfunction readLayer(node, objectStack) {\n  const parentLayerObject = /**  @type {!Object.<string,*>} */ (objectStack[objectStack.length - 1]);\n\n  const layerObject = pushParseAndPop({}, LAYER_PARSERS, node, objectStack);\n\n  if (!layerObject) {\n    return undefined;\n  }\n  let queryable = readBooleanString(node.getAttribute('queryable'));\n  if (queryable === undefined) {\n    queryable = parentLayerObject['queryable'];\n  }\n  layerObject['queryable'] = queryable !== undefined ? queryable : false;\n\n  let cascaded = readNonNegativeIntegerString(\n    node.getAttribute('cascaded'));\n  if (cascaded === undefined) {\n    cascaded = parentLayerObject['cascaded'];\n  }\n  layerObject['cascaded'] = cascaded;\n\n  let opaque = readBooleanString(node.getAttribute('opaque'));\n  if (opaque === undefined) {\n    opaque = parentLayerObject['opaque'];\n  }\n  layerObject['opaque'] = opaque !== undefined ? opaque : false;\n\n  let noSubsets = readBooleanString(node.getAttribute('noSubsets'));\n  if (noSubsets === undefined) {\n    noSubsets = parentLayerObject['noSubsets'];\n  }\n  layerObject['noSubsets'] = noSubsets !== undefined ? noSubsets : false;\n\n  let fixedWidth = readDecimalString(node.getAttribute('fixedWidth'));\n  if (!fixedWidth) {\n    fixedWidth = parentLayerObject['fixedWidth'];\n  }\n  layerObject['fixedWidth'] = fixedWidth;\n\n  let fixedHeight = readDecimalString(node.getAttribute('fixedHeight'));\n  if (!fixedHeight) {\n    fixedHeight = parentLayerObject['fixedHeight'];\n  }\n  layerObject['fixedHeight'] = fixedHeight;\n\n  // See 7.2.4.8\n  const addKeys = ['Style', 'CRS', 'AuthorityURL'];\n  addKeys.forEach(function(key) {\n    if (key in parentLayerObject) {\n      const childValue = layerObject[key] || [];\n      layerObject[key] = childValue.concat(parentLayerObject[key]);\n    }\n  });\n\n  const replaceKeys = ['EX_GeographicBoundingBox', 'BoundingBox', 'Dimension',\n    'Attribution', 'MinScaleDenominator', 'MaxScaleDenominator'];\n  replaceKeys.forEach(function(key) {\n    if (!(key in layerObject)) {\n      const parentValue = parentLayerObject[key];\n      layerObject[key] = parentValue;\n    }\n  });\n\n  return layerObject;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object} Dimension object.\n */\nfunction readDimension(node, objectStack) {\n  const dimensionObject = {\n    'name': node.getAttribute('name'),\n    'units': node.getAttribute('units'),\n    'unitSymbol': node.getAttribute('unitSymbol'),\n    'default': node.getAttribute('default'),\n    'multipleValues': readBooleanString(node.getAttribute('multipleValues')),\n    'nearestValue': readBooleanString(node.getAttribute('nearestValue')),\n    'current': readBooleanString(node.getAttribute('current')),\n    'values': readString(node)\n  };\n  return dimensionObject;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\nfunction readFormatOnlineresource(node, objectStack) {\n  return pushParseAndPop({}, FORMAT_ONLINERESOURCE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Request object.\n */\nfunction readRequest(node, objectStack) {\n  return pushParseAndPop({}, REQUEST_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} DCP type object.\n */\nfunction readDCPType(node, objectStack) {\n  return pushParseAndPop({}, DCPTYPE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} HTTP object.\n */\nfunction readHTTP(node, objectStack) {\n  return pushParseAndPop({}, HTTP_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Operation type object.\n */\nfunction readOperationType(node, objectStack) {\n  return pushParseAndPop({}, OPERATIONTYPE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\nfunction readSizedFormatOnlineresource(node, objectStack) {\n  const formatOnlineresource = readFormatOnlineresource(node, objectStack);\n  if (formatOnlineresource) {\n    const size = [\n      readNonNegativeIntegerString(node.getAttribute('width')),\n      readNonNegativeIntegerString(node.getAttribute('height'))\n    ];\n    formatOnlineresource['size'] = size;\n    return formatOnlineresource;\n  }\n  return undefined;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Authority URL object.\n */\nfunction readAuthorityURL(node, objectStack) {\n  const authorityObject = readFormatOnlineresource(node, objectStack);\n  if (authorityObject) {\n    authorityObject['name'] = node.getAttribute('name');\n    return authorityObject;\n  }\n  return undefined;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Metadata URL object.\n */\nfunction readMetadataURL(node, objectStack) {\n  const metadataObject = readFormatOnlineresource(node, objectStack);\n  if (metadataObject) {\n    metadataObject['type'] = node.getAttribute('type');\n    return metadataObject;\n  }\n  return undefined;\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Object|undefined} Style object.\n */\nfunction readStyle(node, objectStack) {\n  return pushParseAndPop({}, STYLE_PARSERS, node, objectStack);\n}\n\n\n/**\n * @param {Node} node Node.\n * @param {Array.<*>} objectStack Object stack.\n * @return {Array.<string>|undefined} Keyword list.\n */\nfunction readKeywordList(node, objectStack) {\n  return pushParseAndPop([], KEYWORDLIST_PARSERS, node, objectStack);\n}\n\n\nexport default WMSCapabilities;\n","import WMSCapabilities from '../src/ol/format/WMSCapabilities.js';\n\nconst parser = new WMSCapabilities();\n\nfetch('data/ogcsample.xml').then(function(response) {\n  return response.text();\n}).then(function(text) {\n  const result = parser.read(text);\n  document.getElementById('log').innerText = JSON.stringify(result, null, 2);\n});\n"],"sourceRoot":""}