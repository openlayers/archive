(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{230:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(15),o=r(188),s=r(93),i=r(14),u=r(7),l=function(e){var t=e||{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new o.a,this.layers_=t.layers?t.layers:null,s.a.call(this)};Object(a.c)(l,s.a);l.prototype.getLayers=function(){return this.layers_},l.prototype.setLayers=function(e){this.layers_=e},l.prototype.readFeatures_=function(e,t){e.setAttribute("namespaceURI",this.featureNS_);var r=e.localName,a=[];if(0===e.childNodes.length)return a;if("msGMLOutput"==r)for(var o=0,s=e.childNodes.length;o<s;o++){var i=e.childNodes[o];if(i.nodeType===Node.ELEMENT_NODE){var l=t[0],c=i.localName.replace("_layer","");if(!this.layers_||Object(n.f)(this.layers_,c)){var h=c+"_feature";l.featureType=h,l.featureNS=this.featureNS_;var m={};m[h]=Object(u.j)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var d=Object(u.r)([l.featureNS,null],m);i.setAttribute("namespaceURI",this.featureNS_);var p=Object(u.u)([],d,i,t,this.gmlFormat_);p&&Object(n.c)(a,p)}}}if("FeatureCollection"==r){var f=Object(u.u)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);f&&(a=f)}return a},l.prototype.readFeatures,l.prototype.readFeaturesFromNode=function(e,t){var r={};return t&&Object(i.a)(r,this.getReadOptions(e,t)),this.readFeatures_(e,[r])},l.prototype.writeFeatureNode=function(e,t){},l.prototype.writeFeaturesNode=function(e,t){},l.prototype.writeGeometryNode=function(e,t){};var c=l;fetch("data/wmsgetfeatureinfo/osm-restaurant-hotel.xml").then(function(e){return e.text()}).then(function(e){var t=(new c).readFeatures(e);document.getElementById("all").innerText=t.length.toString();var r=new c({layers:["hotel"]}).readFeatures(e);document.getElementById("hotel").innerText=r.length.toString();var a=new c({layers:["restaurant"]}).readFeatures(e);document.getElementById("restaurant").innerText=a.length.toString()})}},[[230,0]]]);
//# sourceMappingURL=getfeatureinfo-layers.js.map