(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{238:function(t,e,n){"use strict";n.r(e);var o=n(3),a=n(2),i=n(1),s=n(5),r=n(75),c=n(4),u=n(69),d=n(0),v=n(176),j=n(70),l=function(t){j.a.call(this,{attributions:t.attributions,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.canvasFunction_=t.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5};Object(d.c)(l,j.a),l.prototype.getImageInternal=function(t,e,n,o){e=this.findNearestResolution(e);var a=this.canvas_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==e&&a.getPixelRatio()==n&&Object(i.g)(a.getExtent(),t))return a;t=t.slice(),Object(i.J)(t,this.ratio_);var s=[Object(i.E)(t)/e*n,Object(i.A)(t)/e*n],r=this.canvasFunction_(t,e,n,s,o);return r&&(a=new v.a(t,e,n,r)),this.canvas_=a,this.renderedRevision_=this.getRevision(),a};var h=l,b=new o.a({layers:[new s.a({source:new u.a({layer:"watercolor"})})],target:"map",view:new a.a({center:Object(c.f)([-97,38]),zoom:4})});d3.json("data/topojson/us.json",function(t,e){var n=topojson.feature(e,e.objects.counties),o=new r.a({source:new h({canvasFunction:function(t,e,o,a,s){var r=a[0],u=a[1],d=d3.select(document.createElement("canvas"));d.attr("width",r).attr("height",u);var v=d.node().getContext("2d"),j=d3.geoMercator().scale(1).translate([0,0]),l=d3.geoPath().projection(j),h=l.bounds(n),b=h[1][0]-h[0][0],w=h[1][1]-h[0][1],g=d3.geoBounds(n),p=Object(c.f)(g[0],s),f=Object(c.f)(g[1],s),O=f[0]-p[0];O<0&&(O+=Object(i.E)(s.getExtent()));var _=O/b,R=(f[1]-p[1])/w,x=Math.max(_,R)/(e/o),m=Object(c.l)(Object(i.x)(t),s);return j.scale(x).center(m).translate([r/2,u/2]),(l=l.projection(j).context(v))(n),v.stroke(),d.node()},projection:"EPSG:3857"})});b.addLayer(o)})}},[[238,0]]]);
//# sourceMappingURL=d3.js.map