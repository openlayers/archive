{"version":3,"sources":["webpack:///./wmts-ign.js"],"names":["map","_src_ol_Map_js__WEBPACK_IMPORTED_MODULE_0__","target","controls","Object","_src_ol_control_js__WEBPACK_IMPORTED_MODULE_2__","attributionOptions","collapsible","view","_src_ol_View_js__WEBPACK_IMPORTED_MODULE_1__","zoom","center","_src_ol_proj_js__WEBPACK_IMPORTED_MODULE_5__","resolutions","matrixIds","proj3857","maxResolution","_src_ol_extent_js__WEBPACK_IMPORTED_MODULE_3__","getExtent","i","toString","Math","pow","const","tileGrid","_src_ol_tilegrid_WMTS_js__WEBPACK_IMPORTED_MODULE_7__","origin","ign_source","_src_ol_source_WMTS_js__WEBPACK_IMPORTED_MODULE_6__","url","layer","matrixSet","format","projection","style","attributions","ign","_src_ol_layer_Tile_js__WEBPACK_IMPORTED_MODULE_4__","source","addLayer"],"mappings":"kGA4BA,sEAlBMA,EAAM,IAAIC,EAAA,GACdC,OAAQ,MACRC,SAAUC,OAAAC,EAAA,EAAAD,EACRE,oBACEC,aAAa,KAGjBC,KAAM,IAAIC,EAAA,GACRC,KAAM,EACNC,OAAQP,OAAAQ,EAAA,EAAAR,EAAY,EAAG,SAIrBS,KACAC,KACAC,EAAWX,OAAAQ,EAAA,EAAAR,CAAc,aACzBY,EAAgBZ,OAAAa,EAAA,EAAAb,CAASW,EAASG,aAAe,IAE9CC,EAAI,EAAGA,EAAI,GAAIA,IACtBL,EAAUK,GAAKA,EAAEC,WACjBP,EAAYM,GAAKH,EAAgBK,KAAKC,IAAI,EAAGH,GAG/CI,IAAMC,EAAW,IAAIC,EAAA,GACnBC,SAAU,SAAU,UACpBb,YAAaA,EACbC,UAAWA,IAOPa,EAAa,IAAIC,EAAA,GACrBC,IAAK,mDACLC,MAAO,+BACPC,UAAW,KACXC,OAAQ,aACRC,WAAY,YACZT,SAAUA,EACVU,MAAO,SACPC,aAAc,oJAKVC,EAAM,IAAIC,EAAA,GACdC,OAAQX,IAGV3B,EAAIuC,SAASH","file":"wmts-ign.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport {defaults as defaultControls} from '../src/ol/control.js';\nimport {getWidth} from '../src/ol/extent.js';\nimport TileLayer from '../src/ol/layer/Tile.js';\nimport {fromLonLat, get as getProjection} from '../src/ol/proj.js';\nimport WMTS from '../src/ol/source/WMTS.js';\nimport WMTSTileGrid from '../src/ol/tilegrid/WMTS.js';\n\n\nconst map = new Map({\n  target: 'map',\n  controls: defaultControls({\n    attributionOptions: {\n      collapsible: false\n    }\n  }),\n  view: new View({\n    zoom: 5,\n    center: fromLonLat([5, 45])\n  })\n});\n\nconst resolutions = [];\nconst matrixIds = [];\nconst proj3857 = getProjection('EPSG:3857');\nconst maxResolution = getWidth(proj3857.getExtent()) / 256;\n\nfor (let i = 0; i < 18; i++) {\n  matrixIds[i] = i.toString();\n  resolutions[i] = maxResolution / Math.pow(2, i);\n}\n\nconst tileGrid = new WMTSTileGrid({\n  origin: [-20037508, 20037508],\n  resolutions: resolutions,\n  matrixIds: matrixIds\n});\n\n// API key valid for 'openlayers.org' and 'localhost'.\n// Expiration date is 06/29/2018.\nconst key = '2mqbg0z6cx7ube8gsou10nrt';\n\nconst ign_source = new WMTS({\n  url: 'https://wxs.ign.fr/' + key + '/wmts',\n  layer: 'GEOGRAPHICALGRIDSYSTEMS.MAPS',\n  matrixSet: 'PM',\n  format: 'image/jpeg',\n  projection: 'EPSG:3857',\n  tileGrid: tileGrid,\n  style: 'normal',\n  attributions: '<a href=\"http://www.geoportail.fr/\" target=\"_blank\">' +\n        '<img src=\"https://api.ign.fr/geoportail/api/js/latest/' +\n        'theme/geoportal/img/logo_gp.gif\"></a>'\n});\n\nconst ign = new TileLayer({\n  source: ign_source\n});\n\nmap.addLayer(ign);\n"],"sourceRoot":""}