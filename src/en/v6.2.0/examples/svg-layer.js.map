{"version":3,"sources":["webpack:///./svg-layer.js"],"names":["map","target","view","center","extent","projection","zoom","svgContainer","document","createElement","xhr","XMLHttpRequest","open","addEventListener","const","svg","responseXML","documentElement","ownerDocument","importNode","appendChild","send","style","width","height","transformOrigin","className","addLayer","render","frameState","scale","viewState","resolution","size","cssTransform","rotation","transform","opacity","this","getOpacity"],"mappings":"4FAAA,yCAKMA,EAAM,IAAI,IAAI,CAClBC,OAAQ,MACRC,KAAM,IAAI,IAAK,CACbC,OAAQ,CAAC,EAAG,GACZC,OAAQ,EAAE,KAAM,GAAI,IAAK,IACzBC,WAAY,YACZC,KAAM,MAIJC,EAAeC,SAASC,cAAc,OACtCC,EAAM,IAAIC,eAChBD,EAAIE,KAAK,MAAO,kBAChBF,EAAIG,iBAAiB,QAAQ,WAC3BC,IAAMC,EAAML,EAAIM,YAAYC,gBAC5BV,EAAaW,cAAcC,WAAWJ,GACtCR,EAAaa,YAAYL,MAE3BL,EAAIW,OAKJd,EAAae,MAAMC,MAAQA,SAC3BhB,EAAae,MAAME,OAASA,SAC5BjB,EAAae,MAAMG,gBAAkB,WACrClB,EAAamB,UAAY,YAEzB1B,EAAI2B,SAAS,IAAI,IAAM,CACrBC,OAAQ,SAASC,GACff,IAAMgB,EARY,QAQYD,EAAWE,UAAUC,WAC7C7B,EAAS0B,EAAWE,UAAU5B,OAC9B8B,EAAOJ,EAAWI,KAClBC,EAAe,YACnBD,EAAK,GAAK,EAAGA,EAAK,GAAK,EACvBH,EAAOA,EACPD,EAAWE,UAAUI,UACpBhC,EAAO,GAfQ,QAeaoB,KAAWpB,EAAO,GAf/B,QAeoDqB,KAGtE,OAFAjB,EAAae,MAAMc,UAAYF,EAC/B3B,EAAae,MAAMe,QAAUC,KAAKC,aAC3BhC,Q","file":"svg-layer.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport Layer from '../src/ol/layer/Layer.js';\nimport {composeCssTransform} from '../src/ol/transform.js';\n\nconst map = new Map({\n  target: 'map',\n  view: new View({\n    center: [0, 0],\n    extent: [-180, -90, 180, 90],\n    projection: 'EPSG:4326',\n    zoom: 2\n  })\n});\n\nconst svgContainer = document.createElement('div');\nconst xhr = new XMLHttpRequest();\nxhr.open('GET', 'data/world.svg');\nxhr.addEventListener('load', function() {\n  const svg = xhr.responseXML.documentElement;\n  svgContainer.ownerDocument.importNode(svg);\n  svgContainer.appendChild(svg);\n});\nxhr.send();\n\nconst width = 2560;\nconst height = 1280;\nconst svgResolution = 360 / width;\nsvgContainer.style.width = width + 'px';\nsvgContainer.style.height = height + 'px';\nsvgContainer.style.transformOrigin = 'top left';\nsvgContainer.className = 'svg-layer';\n\nmap.addLayer(new Layer({\n  render: function(frameState) {\n    const scale = svgResolution / frameState.viewState.resolution;\n    const center = frameState.viewState.center;\n    const size = frameState.size;\n    const cssTransform = composeCssTransform(\n      size[0] / 2, size[1] / 2,\n      scale, scale,\n      frameState.viewState.rotation,\n      -center[0] / svgResolution - width / 2, center[1] / svgResolution - height / 2);\n    svgContainer.style.transform = cssTransform;\n    svgContainer.style.opacity = this.getOpacity();\n    return svgContainer;\n  }\n}));\n"],"sourceRoot":""}